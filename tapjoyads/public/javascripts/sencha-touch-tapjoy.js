/*
    Copyright(c) 2010 Sencha Inc.
    licensing@sencha.com
    http://www.sencha.com/touchlicense
*/
if(typeof Ext==="undefined"){Ext={}}Ext.apply=(function(){for(var a in {valueOf:1}){return function(c,b,e){if(e){Ext.apply(c,e)}if(c&&b&&typeof b==="object"){for(var d in b){c[d]=b[d]}}return c}}return function(c,b,e){if(e){Ext.apply(c,e)}if(c&&b&&typeof b==="object"){for(var d in b){c[d]=b[d]}if(b.toString!==Object.prototype.toString){c.toString=b.toString}if(b.valueOf!==Object.prototype.valueOf){c.valueOf=b.valueOf}}return c}})();Ext.apply(Ext,{platformVersion:"1.0",platformVersionDetail:{major:1,minor:0,patch:3},userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",isStrict:document.compatMode=="CSS1Compat",windowId:"ext-window",documentId:"ext-document",emptyFn:function(){},isSecure:/^https/i.test(window.location.protocol),isReady:false,enableGarbageCollector:true,enableListenerCollection:true,applyIf:function(b,a){var c,d;if(b){for(c in a){if(b[c]===d){b[c]=a[c]}}}return b},repaint:function(){var a=Ext.getBody().createChild({cls:"x-mask x-mask-transparent"});setTimeout(function(){a.remove()},0)},id:function(a,b){a=Ext.getDom(a)||{};if(a===document){a.id=this.documentId}else{if(a===window){a.id=this.windowId}}a.id=a.id||((b||"ext-gen")+(++Ext.idSeed));return a.id},extend:function(){var b=function(d){for(var c in d){if(!d.hasOwnProperty(c)){continue}this[c]=d[c]}};var a=Object.prototype.constructor;return function(c,h,f){if(Ext.isObject(h)){f=h;h=c;c=f.constructor!=a?f.constructor:function(){h.apply(this,arguments)}}if(!h){throw"Attempting to extend from a class which has not been loaded on the page."}var e=function(){},d,g=h.prototype;e.prototype=g;d=c.prototype=new e();d.constructor=c;c.superclass=g;if(g.constructor==a){g.constructor=h}c.override=function(i){Ext.override(c,i)};d.superclass=d.supr=(function(){return g});d.override=b;d.proto=d;c.override(f);c.extend=function(i){return Ext.extend(c,i)};return c}}(),override:function(a,b){Ext.apply(a.prototype,b)},namespace:function(){var e=arguments.length,d,f,c,a,h,g,b;for(d=0;d<e;d++){f=arguments[d];g=f.split(".");if(window.Ext){b=window[g[0]]=Object(window[g[0]])}else{b=arguments.callee.caller.arguments[0]}for(a=1,h=g.length;a<h;a++){b=b[g[a]]=Object(b[g[a]])}}return b},urlEncode:function(f,d){var b,a=[],c=encodeURIComponent;Ext.iterate(f,function(e,g){b=Ext.isEmpty(g);Ext.each(b?e:g,function(h){a.push("&",c(e),"=",(!Ext.isEmpty(h)&&(h!=e||!b))?(Ext.isDate(h)?Ext.encode(h).replace(/"/g,""):c(h)):"")})});if(!d){a.shift();d=""}return d+a.join("")},urlDecode:function(c,b){if(Ext.isEmpty(c)){return{}}var g={},f=c.split("&"),h=decodeURIComponent,a,e;Ext.each(f,function(d){d=d.split("=");a=h(d[0]);e=h(d[1]);g[a]=b||!g[a]?e:[].concat(g[a]).concat(e)});return g},htmlEncode:function(a){return Ext.util.Format.htmlEncode(a)},htmlDecode:function(a){return Ext.util.Format.htmlDecode(a)},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf("?")===-1?"?":"&")+b}return a},toArray:function(c,b,a){return Array.prototype.slice.call(c,b||0,a||c.length)},each:function(e,d,c){if(Ext.isEmpty(e,true)){return 0}if(!Ext.isIterable(e)||Ext.isPrimitive(e)){e=[e]}for(var b=0,a=e.length;b<a;b++){if(d.call(c||e[b],e[b],b,e)===false){return b}}return true},iterate:function(c,b,a){if(Ext.isEmpty(c)){return}if(Ext.isIterable(c)){Ext.each(c,b,a);return}else{if(Ext.isObject(c)){for(var d in c){if(c.hasOwnProperty(d)){if(b.call(a||c,d,c[d],c)===false){return}}}}}},pluck:function(a,c){var b=[];Ext.each(a,function(d){b.push(d[c])});return b},getBody:function(){return Ext.get(document.body||false)},getHead:function(){var a;return function(){if(a==undefined){a=Ext.get(DOC.getElementsByTagName("head")[0])}return a}}(),getDoc:function(){return Ext.get(document)},getCmp:function(a){return Ext.ComponentMgr.get(a)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},isIterable:function(a){if(!a){return false}if(Ext.isArray(a)||a.callee){return true}if(/NodeList|HTMLCollection/.test(Object.prototype.toString.call(a))){return true}return((typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length))||false},num:function(b,a){b=Number(Ext.isEmpty(b)||Ext.isArray(b)||typeof b=="boolean"||(typeof b=="string"&&Ext.util.Format.trim(b).length==0)?NaN:b);return isNaN(b)?a:b},isEmpty:function(d,a){var b=d==null,c=(Ext.isArray(d)&&!d.length),e=!a?d==="":false;return b||c||e},isArray:function(a){return Object.prototype.toString.apply(a)==="[object Array]"},isDate:function(a){return Object.prototype.toString.apply(a)==="[object Date]"},isObject:function(a){return !!a&&!a.tagName&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return Object.prototype.toString.apply(a)==="[object Function]"},isNumber:function(a){return Object.prototype.toString.apply(a)==="[object Number]"&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return Object.prototype.toString.apply(a)==="[object Boolean]"},isElement:function(a){return a?!!a.tagName:false},isDefined:function(a){return typeof a!=="undefined"},destroy:function(){var c=arguments.length,b,a;for(b=0;b<c;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(Ext.isFunction(a.destroy)){a.destroy()}else{if(a.dom){a.remove()}}}}}}});Ext.SSL_SECURE_URL=Ext.isSecure&&"about:blank";Ext.ns=Ext.namespace;Ext.ns("Ext.util","Ext.data","Ext.list","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.plugins","Ext.direct","Ext.lib","Ext.gesture");Ext.util.Observable=Ext.extend(Object,{isObservable:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.listeners){b.on(b.listeners);delete b.listeners}b.events=b.events||{};if(this.bubbleEvents){this.enableBubble(this.bubbleEvents)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal)$/,addManagedListener:function(h,d,f,e,c){var g=this,a=g.managedListeners=g.managedListeners||[],b;if(Ext.isObject(d)){c=d;for(d in c){if(!c.hasOwnProperty(d)){continue}b=c[d];if(!g.eventOptionsRe.test(d)){g.addManagedListener(h,d,b.fn||b,b.scope||c.scope,b.fn?b:c)}}}else{a.push({item:h,ename:d,fn:f,scope:e,options:c});h.on(d,f,e,c)}},removeManagedListener:function(k,e,h,l){var g=this,b,d,j,c,a,f;if(Ext.isObject(e)){b=e;for(e in b){if(!b.hasOwnProperty(e)){continue}d=b[e];if(!g.eventOptionsRe.test(e)){g.removeManagedListener(k,e,d.fn||d,d.scope||b.scope)}}}j=this.managedListeners?this.managedListeners.slice():[];a=j.length;for(f=0;f<a;f++){c=j[f];if(c.item===k&&c.ename===e&&(!h||c.fn===h)&&(!l||c.scope===l)){this.managedListeners.remove(c);k.un(c.ename,c.fn,c.scope)}}},fireEvent:function(){var h=this,c=Ext.toArray(arguments),e=c[0].toLowerCase(),d=true,g=h.events[e],b=h.eventQueue,f;if(h.eventsSuspended===true){if(b){b.push(c)}return false}else{if(g&&Ext.isObject(g)&&g.bubble){if(g.fire.apply(g,c.slice(1))===false){return false}f=h.getBubbleTarget&&h.getBubbleTarget();if(f&&f.isObservable){if(!f.events[e]||!Ext.isObject(f.events[e])||!f.events[e].bubble){f.enableBubble(e)}return f.fireEvent.apply(f,c)}}else{if(g&&Ext.isObject(g)){c.shift();d=g.fire.apply(g,c)}}}return d},addListener:function(b,d,c,g){var f=this,a,e;if(Ext.isObject(b)){g=b;for(b in g){if(!g.hasOwnProperty(b)){continue}a=g[b];if(!f.eventOptionsRe.test(b)){f.addListener(b,a.fn||a,a.scope||g.scope,a.fn?a:g)}}}else{b=b.toLowerCase();f.events[b]=f.events[b]||true;e=f.events[b]||true;if(Ext.isBoolean(e)){f.events[b]=e=new Ext.util.Event(f,b)}e.addListener(d,c,Ext.isObject(g)?g:{})}},removeListener:function(b,d,c){var f=this,a,e;if(Ext.isObject(b)){var g=b;for(b in g){if(!g.hasOwnProperty(b)){continue}a=g[b];if(!f.eventOptionsRe.test(b)){f.removeListener(b,a.fn||a,a.scope||g.scope)}}}else{b=b.toLowerCase();e=f.events[b];if(e.isEvent){e.removeListener(d,c)}}},clearListeners:function(){var b=this.events,c,a;for(a in b){if(!b.hasOwnProperty(a)){continue}c=b[a];if(c.isEvent){c.clearListeners()}}this.clearManagedListeners()},purgeListeners:function(){console.warn("MixedCollection: purgeListeners has been deprecated. Please use clearListeners.");return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var b=this.managedListeners||[],d=b.length,c,a;for(c=0;c<d;c++){a=b[c];a.item.un(a.ename,a.fn,a.scope)}this.managedListener=[]},purgeManagedListeners:function(){console.warn("MixedCollection: purgeManagedListeners has been deprecated. Please use clearManagedListeners.");return this.clearManagedListeners.apply(this,arguments)},addEvents:function(e){var d=this;d.events=d.events||{};if(Ext.isString(e)){var b=arguments,c=b.length;while(c--){d.events[b[c]]=d.events[b[c]]||true}}else{Ext.applyIf(d.events,e)}},hasListener:function(a){var b=this.events[a];return b.isEvent===true&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=true;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=false;delete a.eventQueue;Ext.each(b,function(c){a.fireEvent.apply(a,c)})},relayEvents:function(b,e,h){h=h||"";var g=this,a=e.length,d,c;function f(i){return function(){return g.fireEvent.apply(g,[h+i].concat(Array.prototype.slice.call(arguments,0,-1)))}}for(d=0,a=e.length;d<a;d++){c=e[d].substr(h.length);g.events[c]=g.events[c]||true;b.on(c,f(c),g)}},enableBubble:function(a){var b=this;if(!Ext.isEmpty(a)){a=Ext.isArray(a)?a:Ext.toArray(arguments);Ext.each(a,function(c){c=c.toLowerCase();var d=b.events[c]||true;if(Ext.isBoolean(d)){d=new Ext.util.Event(b,c);b.events[c]=d}d.bubble=true})}}});Ext.override(Ext.util.Observable,{on:Ext.util.Observable.prototype.addListener,un:Ext.util.Observable.prototype.removeListener,mon:Ext.util.Observable.prototype.addManagedListener,mun:Ext.util.Observable.prototype.removeManagedListener});Ext.util.Observable.releaseCapture=function(a){a.fireEvent=Ext.util.Observable.prototype.fireEvent};Ext.util.Observable.capture=function(c,b,a){c.fireEvent=Ext.createInterceptor(c.fireEvent,b,a)};Ext.util.Observable.observe=function(a,b){if(a){if(!a.isObservable){Ext.applyIf(a,new Ext.util.Observable());Ext.util.Observable.capture(a.prototype,a.fireEvent,a)}if(typeof b=="object"){a.on(b)}return a}};Ext.util.Observable.observeClass=Ext.util.Observable.observe;Ext.util.Event=Ext.extend(Object,(function(){function b(e,f,g,d){f.task=new Ext.util.DelayedTask();return function(){f.task.delay(g.buffer,e,d,Ext.toArray(arguments))}}function a(e,f,g,d){return function(){var h=new Ext.util.DelayedTask();if(!f.tasks){f.tasks=[]}f.tasks.push(h);h.delay(g.delay||10,e,d,Ext.toArray(arguments))}}function c(e,f,g,d){return function(){f.ev.removeListener(f.fn,d);return e.apply(d,arguments)}}return{isEvent:true,constructor:function(e,d){this.name=d;this.observable=e;this.listeners=[]},addListener:function(f,e,d){var g=this,h;e=e||g.observable;if(!g.isListening(f,e)){h=g.createListener(f,e,d);if(g.firing){g.listeners=g.listeners.slice(0)}g.listeners.push(h)}},createListener:function(f,e,h){h=h||{};e=e||this.observable;var g={fn:f,scope:e,o:h,ev:this},d=f;if(h.delay){d=a(d,g,h,e)}if(h.buffer){d=b(d,g,h,e)}if(h.single){d=c(d,g,h,e)}g.fireFn=d;return g},findListener:function(h,g){var f=this.listeners,d=f.length,j,e;while(d--){j=f[d];if(j){e=j.scope;if(j.fn==h&&(e==g||e==this.observable)){return d}}}return -1},isListening:function(e,d){return this.findListener(e,d)!==-1},removeListener:function(g,f){var h=this,e,i,d;e=h.findListener(g,f);if(e!=-1){i=h.listeners[e];if(h.firing){h.listeners=h.listeners.slice(0)}if(i.task){i.task.cancel();delete i.task}d=i.tasks&&i.tasks.length;if(d){while(d--){i.tasks[d].cancel()}delete i.tasks}h.listeners.splice(e,1);return true}return false},clearListeners:function(){var e=this.listeners,d=e.length;while(d--){this.removeListener(e[d].fn,e[d].scope)}},fire:function(){var h=this,f=h.listeners,g=f.length,e,d,j;if(g>0){h.firing=true;for(e=0;e<g;e++){j=f[e];d=arguments.length?Array.prototype.slice.call(arguments,0):[];if(j.o){d.push(j.o)}if(j&&j.fireFn.apply(j.scope||h.observable,d)===false){return(h.firing=false)}}}h.firing=false;return true}}})());Ext.util.Stateful=Ext.extend(Ext.util.Observable,{editing:false,dirty:false,persistanceProperty:"data",constructor:function(a){Ext.applyIf(this,{data:{}});this.modified={};this[this.persistanceProperty]={};Ext.util.Stateful.superclass.constructor.call(this,a)},get:function(a){return this[this.persistanceProperty][a]},set:function(g,e){var a=this.fields,d=[],f,c,b;if(arguments.length==1&&Ext.isObject(g)){for(c in g){if(!g.hasOwnProperty(c)){continue}f=a.get(c);if(f&&f.convert!==f.type.convert){d.push(c);continue}this.set(c,g[c])}for(b=0;b<d.length;b++){f=d[b];this.set(f,g[f])}}else{if(a){f=a.get(g);if(f&&f.convert){e=f.convert(e,this)}}this[this.persistanceProperty][g]=e;this.dirty=true;if(!this.editing){this.afterEdit()}}},getChanges:function(){var a=this.modified,b={},c;for(c in a){if(a.hasOwnProperty(c)){b[c]=this[this.persistanceProperty][c]}}return b},isModified:function(a){return !!(this.modified&&this.modified.hasOwnProperty(a))},setDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(a){this.modified[a.name]=this[this.persistanceProperty][a.name]},this)},markDirty:function(){throw new Error("Stateful: markDirty has been deprecated. Please use setDirty.")},reject:function(a){var b=this.modified,c;for(c in b){if(!b.hasOwnProperty(c)){continue}if(typeof b[c]!="function"){this[this.persistanceProperty][c]=b[c]}}this.dirty=false;this.editing=false;delete this.modified;if(a!==true){this.afterReject()}},commit:function(a){this.dirty=false;this.editing=false;delete this.modified;if(a!==true){this.afterCommit()}},copy:function(a){return new this.constructor(Ext.apply({},this[this.persistanceProperty]),a||this.internalId)}});Ext.util.HashMap=Ext.extend(Ext.util.Observable,{constructor:function(a){this.addEvents("add","clear","remove","replace");Ext.util.HashMap.superclass.constructor.call(this,a);this.clear(true)},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,d){var b=this,c;if(b.containsKey(a)){throw new Error("This key already exists in the HashMap")}c=this.getData(a,d);a=c[0];d=c[1];b.map[a]=d;++b.length;b.fireEvent("add",b,a,d);return d},replace:function(b,d){var c=this,e=c.map,a;if(!c.containsKey(b)){c.add(b,d)}a=e[b];e[b]=d;c.fireEvent("replace",c,b,d,a);return d},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeByKey(a)}return false},removeByKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;b.fireEvent("remove",b,a,c);return true}return false},get:function(a){return this.map[a]},clear:function(a){var b=this;b.map={};b.length=0;if(a!==true){b.fireEvent("clear",b)}return b},containsKey:function(a){return this.map[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(d){var a=[],b,c=this.map;for(b in c){if(c.hasOwnProperty(b)){a.push(d?b:c[b])}}return a},each:function(d,c){var a=Ext.apply({},this.map),b,e=this.length;c=c||this;for(b in a){if(a.hasOwnProperty(b)){if(d.call(c,b,a[b],e)===false){break}}}return this},clone:function(){var c=new Ext.util.HashMap(),b=this.map,a;c.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){c.add(a,b[a])}}c.resumeEvents();return c},findKey:function(b){var a,c=this.map;for(a in c){if(c.hasOwnProperty(a)&&c[a]===b){return a}}return undefined}});Ext.util.MixedCollection=function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(b,d){var e=d,c=b;if(arguments.length==1){e=c;c=this.getKey(e)}if(typeof c!="undefined"&&c!==null){var a=this.map[c];if(typeof a!="undefined"){return this.replace(c,e)}this.map[c]=e}this.length++;this.items.push(e);this.keys.push(c);this.fireEvent("add",this.length-1,e,c);return e},getKey:function(a){return a.id},replace:function(c,d){if(arguments.length==1){d=arguments[0];c=this.getKey(d)}var a=this.map[c];if(typeof c=="undefined"||c===null||typeof a=="undefined"){return this.add(c,d)}var b=this.indexOfKey(c);this.items[b]=d;this.map[c]=d;this.fireEvent("replace",c,a,d);return d},addAll:function(e){if(arguments.length>1||Ext.isArray(e)){var b=arguments.length>1?arguments:e;for(var d=0,a=b.length;d<a;d++){this.add(b[d])}}else{for(var c in e){if(!e.hasOwnProperty(c)){continue}if(this.allowFunctions||typeof e[c]!="function"){this.add(c,e[c])}}}},each:function(e,d){var b=[].concat(this.items);for(var c=0,a=b.length;c<a;c++){if(e.call(d||b[c],b[c],c,a)===false){break}}},eachKey:function(d,c){for(var b=0,a=this.keys.length;b<a;b++){d.call(c||window,this.keys[b],this.items[b],b,a)}},findBy:function(d,c){for(var b=0,a=this.items.length;b<a;b++){if(d.call(c||window,this.items[b],this.keys[b])){return this.items[b]}}return null},insert:function(a,b,d){var c=b,e=d;if(arguments.length==2){e=c;c=this.getKey(e)}if(this.containsKey(c)){this.suspendEvents();this.removeByKey(c);this.resumeEvents()}if(a>=this.length){return this.add(c,e)}this.length++;this.items.splice(a,0,e);if(typeof c!="undefined"&&c!==null){this.map[c]=e}this.keys.splice(a,0,c);this.fireEvent("add",a,e,c);return e},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){Ext.each(a||[],function(b){this.remove(b)},this);return this},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var c=this.items[a];this.items.splice(a,1);var b=this.keys[a];if(typeof b!="undefined"){delete this.map[b]}this.keys.splice(a,1);this.fireEvent("remove",c,b);return c}return false},removeByKey:function(a){return this.removeAt(this.indexOfKey(a))},removeKey:function(){console.warn("MixedCollection: removeKey has been deprecated. Please use removeByKey.");return this.removeByKey.apply(this,arguments)},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},get:function(b){var a=this.map[b],c=a!==undefined?a:(typeof b=="number")?this.items[b]:undefined;return typeof c!="function"||this.allowFunctions?c:null},item:function(){console.warn("MixedCollection: item has been deprecated. Please use get.");return this.get.apply(this,arguments)},getAt:function(a){return this.items[a]},itemAt:function(){console.warn("MixedCollection: itemAt has been deprecated. Please use getAt.");return this.getAt.apply(this,arguments)},getByKey:function(a){return this.map[a]},key:function(){console.warn("MixedCollection: key has been deprecated. Please use getByKey.");return this.getByKey.apply(this,arguments)},contains:function(a){return this.indexOf(a)!=-1},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(j,a,h){var d,e,b=String(a).toUpperCase()=="DESC"?-1:1,g=[],k=this.keys,f=this.items;h=h||function(i,c){return i-c};for(d=0,e=f.length;d<e;d++){g[g.length]={key:k[d],value:f[d],index:d}}g.sort(function(i,c){var l=h(i[j],c[j])*b;if(l===0){l=(i.index<c.index?-1:1)}return l});for(d=0,e=g.length;d<e;d++){f[d]=g[d].value;k[d]=g[d].key}this.fireEvent("sort",this)},sort:function(c,e){var d=c;if(Ext.isString(c)){d=[new Ext.util.Sorter({property:c,direction:e||"ASC"})]}else{if(c instanceof Ext.util.Sorter){d=[c]}else{if(Ext.isObject(c)){d=[new Ext.util.Sorter(c)]}}}var b=d.length;if(b==0){return}var a=function(h,g){var f=d[0].sort(h,g),k=d.length,j;for(j=1;j<k;j++){f=f||d[j].sort.call(this,h,g)}return f};this.sortBy(a)},sortBy:function(c){var b=this.items,f=this.keys,e=b.length,a=[],d;for(d=0;d<e;d++){a[d]={key:f[d],value:b[d],index:d}}a.sort(function(h,g){var i=c(h.value,g.value);if(i===0){i=(h.index<g.index?-1:1)}return i});for(d=0;d<e;d++){b[d]=a[d].value;f[d]=a[d].key}this.fireEvent("sort",this)},reorder:function(d){this.suspendEvents();var b=this.items,c=0,f=b.length,a=[],e=[],g;for(g in d){a[d[g]]=b[g]}for(c=0;c<f;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<f;c++){if(a[c]==undefined){a[c]=e.shift()}}this.clear();this.addAll(a);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(d,c){var f=String(d).toUpperCase(),e=String(c).toUpperCase();return f>e?1:(f<e?-1:0)})},keySort:function(){console.warn("MixedCollection: keySort has been deprecated. Please use sortByKey.");return this.sortByKey.apply(this,arguments)},getRange:function(e,a){var b=this.items;if(b.length<1){return[]}e=e||0;a=Math.min(typeof a=="undefined"?this.length-1:a,this.length-1);var c,d=[];if(e<=a){for(c=e;c<=a;c++){d[d.length]=b[c]}}else{for(c=e;c>=a;c--){d[d.length]=b[c]}}return d},filter:function(d,c,f,a){var b=[];if(Ext.isString(d)){b.push(new Ext.util.Filter({property:d,value:c,anyMatch:f,caseSensitive:a}))}else{if(Ext.isArray(d)||d instanceof Ext.util.Filter){b=b.concat(d)}}var e=function(g){var m=true,n=b.length,h;for(h=0;h<n;h++){var l=b[h],k=l.filterFn,j=l.scope;m=m&&k.call(j,g)}return m};return this.filterBy(e)},filterBy:function(e,d){var a=new Ext.util.MixedCollection(),g=this.keys,b=this.items,f=b.length,c;a.getKey=this.getKey;for(c=0;c<f;c++){if(e.call(d||this,b[c],g[c])){a.add(g[c],b[c])}}return a},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(f){return f&&b.test(f[c])},null,e)},findIndexBy:function(f,e,g){var b=this.keys,d=this.items;for(var c=(g||0),a=d.length;c<a;c++){if(f.call(e||this,d[c],b[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.util.Format.escapeRegex;c=String(c);if(e===true){c=d(c)}else{c="^"+d(c);if(b===true){c+="$"}}c=new RegExp(c,a?"":"i")}return c},clone:function(){var e=new Ext.util.MixedCollection();var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){e.add(b[c],d[c])}e.getKey=this.getKey;return e}});Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];if(c==undefined){throw new Error(Ext.util.Format.format("The '{0}' type has not been registered with this manager",b))}return new c(a)},onAvailable:function(d,c,b){var a=this.all;a.on("add",function(e,f){if(f.id==d){c.call(b||f,f);a.un("add",c,b)}})},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}});Ext.util.DelayedTask=function(d,c,a){var e=this,f,b=function(){clearInterval(f);f=null;d.apply(c,a||[])};this.delay=function(h,j,i,g){e.cancel();d=j||d;c=i||c;a=g||a;f=setInterval(b,h)};this.cancel=function(){if(f){clearInterval(f);f=null}}};Ext.util.Point=Ext.extend(Object,{constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy:function(){return new Ext.util.Point(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return(this.x==a.x&&this.y==a.y)},isWithin:function(b,a){if(!Ext.isObject(a)){a={x:a};a.y=a.x}return(this.x<=b.x+a.x&&this.x>=b.x-a.x&&this.y<=b.y+a.y&&this.y>=b.y-a.y)},translate:function(a,b){if(a!=null&&!isNaN(a)){this.x+=a}if(b!=null&&!isNaN(b)){this.y+=b}},roundedEquals:function(a){return(Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y))}});Ext.util.Point.fromEvent=function(c){var b=(c.changedTouches&&c.changedTouches.length>0)?c.changedTouches[0]:c;return new Ext.util.Point(b.pageX,b.pageY)};Ext.util.Offset=Ext.extend(Object,{constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){if(!(a instanceof Ext.util.Offset)){throw new Error("offset must be an instance of Ext.util.Offset")}return(this.x==a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.util.Offset.fromObject=function(a){return new Ext.util.Offset(a.x,a.y)};Ext.Template=Ext.extend(Object,{constructor:function(d){var f=this,b=arguments,a=[],g,c,e;f.initialConfig={};if(Ext.isArray(d)){d=d.join("")}else{if(b.length>1){for(c=0,e=b.length;c<e;c++){g=b[c];if(typeof g=="object"){Ext.apply(f.initialConfig,g);Ext.apply(f,g)}else{a.push(g)}}d=a.join("")}}f.html=d;if(f.compiled){f.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,applyTemplate:function(a){var f=this,c=f.disableFormats!==true,e=Ext.util.Format,b=f;if(f.compiled){return f.compiled(a)}function d(g,i,j,h){if(j&&c){if(h){h=[a[i]].concat(new Function("return ["+h+"];")())}else{h=[a[i]]}if(j.substr(0,5)=="this."){return b[j.substr(5)].apply(b,h)}else{return e[j].apply(e,h)}}else{return a[i]!==undefined?a[i]:""}}return f.html.replace(f.re,d)},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'].join('');};";eval(body);return me},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.applyTemplate(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.applyTemplate(a);return c?Ext.get(b.firstChild,true):b.firstChild}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(b,a){b=Ext.getDom(b);return new Ext.Template(b.value||b.innerHTML,a||"")};Ext.XTemplate=Ext.extend(Ext.Template,{argsRe:/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,nameRe:/^<tpl\b[^>]*?for="(.*?)"/,ifRe:/^<tpl\b[^>]*?if="(.*?)"/,execRe:/^<tpl\b[^>]*?exec="(.*?)"/,constructor:function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var x=this,h=x.html,u=x.argsRe,c=x.nameRe,s=x.ifRe,w=x.execRe,o=0,j=[],n="values",v="parent",k="xindex",l="xcount",d="return ",b="with(values){ ",p,f,t,a,e,g,q,y,r;h=["<tpl>",h,"</tpl>"].join("");while((p=h.match(u))){e=null;g=null;q=null;f=p[0].match(c);t=p[0].match(s);a=p[0].match(w);e=t?t[1]:null;if(e){g=new Function(n,v,k,l,b+"try{"+d+Ext.util.Format.htmlDecode(e)+";}catch(e){return;}}")}e=a?a[1]:null;if(e){q=new Function(n,v,k,l,b+Ext.util.Format.htmlDecode(e)+";}")}y=f?f[1]:null;if(y){if(y==="."){y=n}else{if(y===".."){y=v}}y=new Function(n,v,"try{"+b+d+y+";}}catch(e){return;}")}j.push({id:o,target:y,exec:q,test:g,body:p[1]||""});h=h.replace(p[0],"{xtpl"+o+"}");o=o+1}for(r=j.length-1;r>=0;--r){x.compileTpl(j[r])}x.master=j[j.length-1];x.tpls=j},applySubTemplate:function(g,a,c,e,f){var d=this,b=d.tpls[g];return b.compiled.call(d,a,c,e,f)},codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?\}/g,compileTpl:function(tpl){var fm=Ext.util.Format,me=this,useFormat=me.disableFormats!==true,body,bodyReturn,evaluatedFn;function fn(m,name,format,args,math){var v;if(name.substr(0,4)=="xtpl"){return"',this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount),'"}if(name=="."){v='typeof values == "string" ? values : ""'}else{if(name=="#"){v="xindex"}else{if(name.substr(0,7)=="parent."){v=name}else{if(name.indexOf(".")!=-1){v="values."+name}else{v="values['"+name+"']"}}}}if(math){v="("+v+math+")"}if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="("+v+" === undefined ? '' : "}return"',"+format+v+args+"),'"}function codeFn(m,code){return"',("+code.replace(me.compileARe,"'")+"),'"}bodyReturn=tpl.body.replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn).replace(me.codeRe,codeFn);body="evaluatedFn = function(values, parent, xindex, xcount){return ['"+bodyReturn+"'].join('');};";eval(body);tpl.compiled=function(values,parent,xindex,xcount){var vs,length,buffer,i;if(tpl.test&&!tpl.test.call(me,values,parent,xindex,xcount)){return""}vs=tpl.target?tpl.target.call(me,values,parent):values;if(!vs){return""}parent=tpl.target?values:parent;if(tpl.target&&Ext.isArray(vs)){buffer=[],length=vs.length;if(tpl.exec){for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length);tpl.exec.call(me,vs[i],parent,i+1,length)}}else{for(i=0;i<length;i++){buffer[buffer.length]=evaluatedFn.call(me,vs[i],parent,i+1,length)}}return buffer.join("")}if(tpl.exec){tpl.exec.call(me,vs,parent,xindex,xcount)}return evaluatedFn.call(me,vs,parent,xindex,xcount)};return this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b,a){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML,a||{})};Ext.util.Filter=Ext.extend(Object,{anyMatch:false,exactMatch:false,caseSensitive:false,constructor:function(a){Ext.apply(this,a);this.filter=this.filter||this.filterFn;if(this.filter==undefined){if(this.property==undefined||this.value==undefined){}else{this.filter=this.createFilterFn()}this.filterFn=this.filter}},createFilterFn:function(){var a=this,c=a.createValueMatcher(),b=a.property;return function(d){return c.test(a.getRoot.call(a,d)[b])}},getRoot:function(a){return this.root==undefined?a:a[this.root]},createValueMatcher:function(){var d=this,e=d.value,f=d.anyMatch,c=d.exactMatch,a=d.caseSensitive,b=Ext.util.Format.escapeRegex;if(!e.exec){e=String(e);if(f===true){e=b(e)}else{e="^"+b(e);if(c===true){e+="$"}}e=new RegExp(e,a?"":"i")}return e}});Ext.util.Functions={createInterceptor:function(d,c,b,a){var e=d;if(!Ext.isFunction(c)){return d}else{return function(){var g=this,f=arguments;c.target=g;c.method=d;return(c.apply(b||g||window,f)!==false)?d.apply(g||window,f):a||null}}},createDelegate:function(c,d,b,a){if(!Ext.isFunction(c)){return c}return function(){var f=b||arguments;if(a===true){f=Array.prototype.slice.call(arguments,0);f=f.concat(b)}else{if(Ext.isNumber(a)){f=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(f,e)}}return c.apply(d||window,f)}},defer:function(d,c,e,b,a){d=Ext.util.Functions.createDelegate(d,e,b,a);if(c>0){return setTimeout(d,c)}d();return 0},createSequence:function(c,b,a){if(!Ext.isFunction(b)){return c}else{return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.util.Date={getElapsed:function(b,a){return Math.abs(b-(a||new Date))}};Ext.util.Numbers={toFixedBroken:(0.9).toFixed()!=1,constrain:function(c,b,a){c=parseFloat(c);if(!isNaN(b)){c=Math.max(c,b)}if(!isNaN(a)){c=Math.min(c,a)}return c},toFixed:function(c,a){if(Ext.util.Numbers.toFixedBroken){a=a||0;var b=Math.pow(10,a);return Math.round(c*b)/b}return c.toFixed(a)}};Ext.util.Format={defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,ellipsis:function(c,a,d){if(c&&c.length>a){if(d){var e=c.substr(0,a-2),b=Math.max(e.lastIndexOf(" "),e.lastIndexOf("."),e.lastIndexOf("!"),e.lastIndexOf("?"));if(b!=-1&&b>=(a-15)){return e.substr(0,b)+"..."}}return c.substr(0,a-3)+"..."}return c},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(b,c,a){return b==c?a:c},trim:function(a){return a.replace(Ext.util.Format.trimRe,"")},leftPad:function(d,b,c){var a=String(d);c=c||" ";while(a.length<b){a=c+a}return a},format:function(b){var a=Ext.toArray(arguments,1);return b.replace(Ext.util.Format.formatRe,function(c,d){return a[d]})},htmlEncode:function(a){return !a?a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(a){return !a?a:String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},date:function(a,b){if(!a){return""}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return a.dateFormat(b||Ext.util.Format.defaultDateFormat)}};Ext.LoadMask=Ext.extend(Ext.util.Observable,{msg:"Loading...",msgCls:"x-mask-loading",disabled:false,constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);this.addEvents("show","hide");if(this.store){this.bindStore(this.store,true)}Ext.LoadMask.superclass.constructor.call(this)},bindStore:function(a,b){if(!b&&this.store){this.mun(this.store,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});if(!a){this.store=null}}if(a){a=Ext.StoreMgr.lookup(a);this.mon(a,{scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad})}this.store=a;if(a&&a.isLoading()){this.onBeforeLoad()}},disable:function(){this.disabled=true},enable:function(){this.disabled=false},isDisabled:function(){return this.disabled},onLoad:function(){this.el.unmask();this.fireEvent("hide",this,this.el,this.store)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(Ext.LoadingSpinner+'<div class="x-loading-msg">'+this.msg+"</div>",this.msgCls,false);this.fireEvent("show",this,this.el,this.store)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){this.hide();this.clearListeners()}});Ext.LoadingSpinner='<div class="x-loading-spinner"><span class="x-loading-top"></span><span class="x-loading-right"></span><span class="x-loading-bottom"></span><span class="x-loading-left"></span></div>';Ext.applyIf(Array.prototype,{indexOf:function(b,c){var a=this.length;c=c||0;c+=(c<0)?a:0;for(;c<a;++c){if(this[c]===b){return c}}return -1},remove:function(b){var a=this.indexOf(b);if(a!=-1){this.splice(a,1)}return this},contains:function(a){return this.indexOf(a)!==-1}});Ext.ComponentMgr=new Ext.AbstractManager({typeName:"xtype",create:function(b,d){if(b.isComponent){return b}else{var c=b.xtype||d,a=this.types[c];if(!a){throw"Attempting to create a component with an xtype that has not been registered: "+c}return new a(b)}return b.render?b:new (b)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b;a.prototype[this.typeName]=b}});Ext.reg=function(){return Ext.ComponentMgr.registerType.apply(Ext.ComponentMgr,arguments)};Ext.create=function(){return Ext.ComponentMgr.create.apply(Ext.ComponentMgr,arguments)};Ext.ComponentQuery=new function(){var g=this,j=["var r = [],","i = 0,","it = arguments[0],","l = it.length,","c;","for (; i < l; i++) {","c = it[i].{0};","if (c) {","r.push(c);","}","}","return r;"].join(""),e=function(o,n){return n.method.apply(this,[o].concat(n.args))},a=function(p,t){var n=[],q,s=p.length,r,o=t!=">";for(q=0;q<s;q++){r=p[q];if(r.getRefItems){n=n.concat(r.getRefItems(o))}}return n},f=function(o){var n=[],p,r=o.length,q;for(p=0;p<r;p++){q=o[p];while(!!(q=q.ownerCt)){n.push(q)}}return n},l=function(o,t,s){if(t=="*"){return o.slice()}else{var n=[],p,r=o.length,q;for(p=0;p<r;p++){q=o[p];if(q.isXType(t,s)){n.push(q)}}return n}},i=function(o,r){var n=[],p,s=o.length,q;for(p=0;p<s;p++){q=o[p];if(q.el?q.el.hasCls(r):q.initCls().contains(r)){n.push(q)}}return n},m=function(p,u,o,t){var n=[],q,s=p.length,r;for(q=0;q<s;q++){r=p[q];if((t===undefined)?!!r[u]:(r[u]==t)){n.push(r)}}return n},d=function(o,s){var n=[],p,r=o.length,q;for(p=0;p<r;p++){q=o[p];if(q.getItemId()==s){n.push(q)}}return n},k=function(n,o,p){return g.pseudos[o](n,p)},h=/^(\s?([>\^])\s?|\s|$)/,c=/^(?:(#)?([\w-]+|\*)(?:\((true|false)\))?)|(?:\{([^\}]+)\})/,b=[{re:/^\.([\w-]+)(?:\((true|false)\))?/,method:l},{re:/^(?:[\[\{](?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,method:m},{re:/^#([\w-]+)/,method:d},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,method:k}];g.Query=Ext.extend(Object,{constructor:function(n){n=n||{};Ext.apply(this,n)},execute:function(o){var q=this.operations,s=q.length,p,r,n;if(!o){n=Ext.ComponentMgr.all.items.slice()}for(r=0;r<s;r++){p=q[r];if(p.mode=="^"){n=f(n||[o])}else{if(p.mode){n=a(n||[o],p.mode)}else{n=e(n||a([o]),p)}}if(r==s-1){return n}}return[]},is:function(p){var o=this.operations,r=o.length,q,n=Ext.isArray(p)?p:[p];for(q=0;q<r&&n.length;q++){n=e(n,o[q])}return n.length!=0}});Ext.apply(this,{cache:{},pseudos:{},query:function(n,v){var w=n.split(","),q=w.length,o,s,p=[],x=[],u={},r,t;for(o=0;o<q;o++){n=Ext.util.Format.trim(w[o]);s=this.cache[n];if(!s){this.cache[n]=s=this.parse(n)}p=p.concat(s.execute(v))}if(q>1){r=p.length;for(o=0;o<r;o++){t=p[o];if(!u[t.id]){x.push(t);u[t.id]=true}}p=x}return p},is:function(o,n){if(!n){return true}var p=this.cache[n];if(!p){this.cache[n]=p=this.parse(n)}return p.is(o)},parse:function(o){var n=[],t=b.length,u,p,v,w,x,s,q,r;while(o&&u!=o){u=o;p=o.match(c);if(p){v=p[1];if(v=="#"){n.push({method:d,args:[Ext.util.Format.trim(p[2])]})}else{if(v=="."){n.push({method:i,args:[Ext.util.Format.trim(p[2])]})}else{if(p[4]){n.push({method:new Function(Ext.util.Format.format(j,p[4])),args:[]})}else{n.push({method:l,args:[Ext.util.Format.trim(p[2]),Boolean(p[3])]})}}}o=o.replace(p[0],"")}while(!(w=o.match(h))){for(q=0;o&&q<t;q++){r=b[q];x=o.match(r.re);if(x){n.push({method:r.method,args:x.splice(1)});o=o.replace(x[0],"");break}if(q==(t-1)){throw'Invalid ComponentQuery selector: "'+arguments[0]+'"'}}}if(w[1]){n.push({mode:w[2]||w[1]});o=o.replace(w[0],"")}}return new g.Query({operations:n})}})};Ext.PluginMgr=new Ext.AbstractManager({typeName:"ptype",create:function(b,c){var a=this.types[b.ptype||c];if(a.init){return a}else{return new a(b)}},findByType:function(c,f){var e=[],b=this.types;for(var a in b){if(!b.hasOwnProperty(a)){continue}var d=b[a];if(d.type==c&&(!f||(f===true&&d.isDefault))){e.push(d)}}return e}});Ext.preg=function(){return Ext.PluginMgr.registerType.apply(Ext.PluginMgr,arguments)};Ext.EventManager={optionsRe:/^(?:capture|scope|delay|buffer|single|stopEvent|disableLocking|preventDefault|stopPropagation|normalized|args|delegate|horizontal|vertical|dragThreshold|holdThreshold|doubleTapThreshold|cancelThreshold|singleTapThreshold|fireClickEvent)$/,touchRe:/^(?:pinch|pinchstart|pinchend|tap|singletap|doubletap|swipe|swipeleft|swiperight|drag|dragstart|dragend|touchdown|touchstart|touchmove|touchend|taphold|tapstart|tapcancel)$/i,addListener:function(b,a,e,d,g){if(Ext.isObject(a)){this.handleListenerConfig(b,a);return}var f=Ext.getDom(b);if(!f){throw'Error listening for "'+a+'". Element "'+b+"\" doesn't exist."}if(!e){throw'Error listening for "'+a+'". No handler function specified'}var h=this.touchRe.test(a);var c=this.createListenerWrap(f,a,e,d,g,h);this.getEventListenerCache(f,a).push({fn:e,wrap:c,scope:d});if(h){Ext.gesture.Manager.addEventListener(f,a,c,g)}else{g=g||{};f.addEventListener(a,c,g.capture||false)}},removeListener:function(g,k,l,m){if(Ext.isObject(k)){this.handleListenerConfig(g,k,true);return}var e=Ext.getDom(g),a=this.getEventListenerCache(e,k),h=a.length,f,c,b,d;while(h--){c=a[h];if(c&&(!l||c.fn==l)&&(!m||c.scope===m)){b=c.wrap;if(b.task){clearTimeout(b.task);delete b.task}f=b.tasks&&b.tasks.length;if(f){while(f--){clearTimeout(b.tasks[f])}delete b.tasks}if(this.touchRe.test(k)){Ext.gesture.Manager.removeEventListener(e,k,b)}else{e.removeEventListener(k,b,false)}a.splice(h,1)}}},removeAll:function(b){var d=Ext.getDom(b),a=this.getElementEventCache(d),c;for(c in a){if(!a.hasOwnProperty(c)){continue}this.removeListener(d,c)}Ext.cache[d.id].events={}},purgeElement:function(d,e,b){var f=Ext.getDom(d),c=0,a;if(b){this.removeListener(f,b)}else{this.removeAll(f)}if(e&&f&&f.childNodes){for(a=d.childNodes.length;c<a;c++){this.purgeElement(d.childNodes[c],e,b)}}},handleListenerConfig:function(d,b,a){var c,e;for(c in b){if(!b.hasOwnProperty(c)){continue}if(!this.optionsRe.test(c)){e=b[c];if(Ext.isFunction(e)){this[(a?"remove":"add")+"Listener"](d,c,e,b.scope,b)}else{this[(a?"remove":"add")+"Listener"](d,c,b.fn,b.scope,b)}}}},getId:function(a){var b=false,c;a=Ext.getDom(a);if(a===document||a===window){b=true}c=Ext.id(a);if(!Ext.cache[c]){Ext.Element.addToCache(new Ext.Element(a),c);if(b){Ext.cache[c].skipGarbageCollection=true}}return c},createListenerWrap:function(h,a,c,b,g,i){g=!Ext.isObject(g)?{}:g;var d=["if(!window.Ext) {return;}"];if(i){d.push("e = new Ext.TouchEventObjectImpl(e, args);")}else{if(g.buffer||g.delay){d.push("e = new Ext.EventObjectImpl(e);")}else{d.push("e = Ext.EventObject.setEvent(e);")}}if(g.delegate){d.push('var t = e.getTarget("'+g.delegate+'", this);');d.push("if(!t) {return;}")}else{d.push("var t = e.target;")}if(g.target){d.push("if(e.target !== o.target) {return;}")}if(g.stopEvent){d.push("e.stopEvent();")}else{if(g.preventDefault){d.push("e.preventDefault();")}if(g.stopPropagation){d.push("e.stopPropagation();")}}if(g.normalized===false){d.push("e = e.browserEvent;")}if(g.buffer){d.push("(wrap.task && clearTimeout(wrap.task));");d.push("wrap.task = setTimeout(function(){")}if(g.delay){d.push("wrap.tasks = wrap.tasks || [];");d.push("wrap.tasks.push(setTimeout(function(){")}d.push("fn.call(scope || dom, e, t, o);");if(g.single){d.push("Ext.EventManager.removeListener(dom, ename, fn, scope);")}if(g.delay){d.push("}, "+g.delay+"));")}if(g.buffer){d.push("}, "+g.buffer+");")}var e=new Function("e","o","fn","scope","ename","dom","wrap","args",d.join("\n"));return function(j,f){e.call(h,j,g,c,b,a,h,arguments.callee,f)}},getEventListenerCache:function(c,a){var b=this.getElementEventCache(c);return b[a]||(b[a]=[])},getElementEventCache:function(b){var a=Ext.cache[this.getId(b)];return a.events||(a.events={})},onDocumentReady:function(d,c,b){var f=this,g=f.readyEvent,e;if(Ext.isReady){g||(g=new Ext.util.Event());g.addListener(d,c,b);g.fire();g.listeners=[]}else{if(!g){g=f.readyEvent=new Ext.util.Event();var a=function(){Ext.isReady=true;window.removeEventListener("load",arguments.callee,false);if(e){clearInterval(e)}setTimeout(function(){Ext.supports.init();Ext.gesture.Manager.init();Ext.orientation=Ext.Element.getOrientation();g.fire({orientation:Ext.orientation,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()});g.listeners=[]},50)};e=setInterval(function(){if(/loaded|complete/.test(document.readyState)){clearInterval(e);e=null;a()}},10);window.addEventListener("load",a,false)}b=b||{};b.delay=b.delay||1;g.addListener(d,c,b)}},onWindowResize:function(c,b,a){var e=this,f=e.resizeEvent;if(!f){e.resizeEvent=f=new Ext.util.Event();var d=function(){f.fire(Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight())};this.addListener(window,"resize",d,this)}f.addListener(c,b,a)},onOrientationChange:function(c,b,a){var e=this,d=e.orientationEvent;if(!d){e.orientationEvent=d=new Ext.util.Event();var f=function(g,h){Ext.orientation=Ext.Viewport.getOrientation();d.fire(Ext.orientation,h.width,h.height)};Ext.Viewport.on("resize",f,this)}d.addListener(c,b,a)},unOrientationChange:function(c,b,a){var e=this,d=e.orientationEvent;if(d){d.removeListener(c,b,a)}}};Ext.EventManager.on=Ext.EventManager.addListener;Ext.EventManager.un=Ext.EventManager.removeListener;Ext.onReady=Ext.EventManager.onDocumentReady;Ext.EventObjectImpl=Ext.extend(Object,{constructor:function(a){if(a){this.setEvent(a.browserEvent||a)}},setEvent:function(c){var b=this;if(c==b||(c&&c.browserEvent)){return c}b.browserEvent=c;if(c){b.type=c.type;var a=c.target;b.target=a&&a.nodeType==3?a.parentNode:a;b.xy=[c.pageX,c.pageY];b.timestamp=c.timeStamp}else{b.target=null;b.xy=[0,0]}return b},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){this.browserEvent.preventDefault()}},stopPropagation:function(){if(this.browserEvent){this.browserEvent.stopPropagation()}},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):(a?Ext.get(this.target):this.target)},getTime:function(){return this.timestamp}});Ext.EventObject=new Ext.EventObjectImpl();Ext.is={init:function(b){var c=this.platforms,e=c.length,d,a;b=b||window.navigator;for(d=0;d<e;d++){a=c[d];this[a.identity]=a.regex.test(b[a.property])}this.Desktop=this.Mac||this.Windows||(this.Linux&&!this.Android);this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();Ext.supports={init:function(){var d=document,f=d.createElement("div"),b=this.tests,c=b.length,a,e;f.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="float:left; background-color:transparent;"></div>'].join("");d.body.appendChild(f);for(a=0;a<c;a++){e=b[a];this[e.identity]=e.fn.call(this,d,f)}d.body.removeChild(f)},OrientationChange:((typeof window.orientation!="undefined")&&("onorientationchange" in window)),DeviceMotion:("ondevicemotion" in window),Touch:("ontouchstart" in window)&&(!Ext.is.Desktop),tests:[{identity:"Transitions",fn:function(f,h){var e=["webkit","Moz","o","ms","khtml"],g="TransitionEnd",a=[e[0]+g,"transitionend",e[2]+g,e[3]+g,e[4]+g],d=e.length,c=0,b=false;h=Ext.get(h);for(;c<d;c++){if(h.getStyle(e[c]+"TransitionProperty")){Ext.supports.CSS3Prefix=e[c];Ext.supports.CSS3TransitionEnd=a[c];b=true;break}}return b}},{identity:"RightMargin",fn:function(b,c,a){a=b.defaultView;return !(a&&a.getComputedStyle(c.firstChild.firstChild,null).marginRight!="0px")}},{identity:"TransparentColor",fn:function(b,c,a){a=b.defaultView;return !(a&&a.getComputedStyle(c.lastChild,null).backgroundColor!="transparent")}},{identity:"SVG",fn:function(a){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(a){return !!a.createElement("canvas").getContext}},{identity:"VML",fn:function(a){var b=a.createElement("div");b.innerHTML="<!--[if vml]><br><br><![endif]-->";return(b.childNodes.length==2)}},{identity:"Float",fn:function(a,b){return !!b.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(a){return !!a.createElement("audio").canPlayType}},{identity:"History",fn:function(){return !!(window.history&&history.pushState)}},{identity:"CSS3DTransform",fn:function(){return(typeof WebKitCSSMatrix!="undefined"&&new WebKitCSSMatrix().hasOwnProperty("m41"))}},{identity:"CSS3LinearGradient",fn:function(e,g){var d="background-image:",b="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",f="linear-gradient(left top, black, white)",c="-moz-"+f,a=[d+b,d+f,d+c];g.style.cssText=a.join(";");return(""+g.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(d,e){var b=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c=false,a;for(a=0;a<b.length;a++){if(document.body.style[b[a]]!==undefined){return c=true}}return c}},{identity:"GeoLocation",fn:function(){return(typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined")||(typeof google!="undefined"&&typeof google.gears!="undefined")}}]};(function(){var c=Ext.Element=Ext.extend(Object,{defaultUnit:"px",constructor:function(d,e){var f=typeof d=="string"?document.getElementById(d):d,g;if(!f){return null}g=f.id;if(!e&&g&&Ext.cache[g]){return Ext.cache[g].el}this.dom=f;this.id=g||Ext.id(f);return this},set:function(h,e){var f=this.dom,d,g;for(d in h){if(h.hasOwnProperty(d)){g=h[d];if(d=="style"){this.applyStyles(g)}else{if(d=="cls"){f.className=g}else{if(e!==false){f.setAttribute(d,g)}else{f[d]=g}}}}}return this},is:function(d){return Ext.DomQuery.is(this.dom,d)},getValue:function(d){var e=this.dom.value;return d?parseInt(e,10):e},addListener:function(d,g,f,e){Ext.EventManager.on(this.dom,d,g,f||this,e);return this},removeListener:function(d,f,e){Ext.EventManager.un(this.dom,d,f,e);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},remove:function(){var d=this,e=d.dom;if(e){delete d.dom;Ext.removeNode(e)}},isAncestor:function(e){var d=this.dom;e=Ext.getDom(e);if(d&&e){return d.contains(e)}return false},isDescendent:function(d){return Ext.fly(d,"_internal").isAncestor(this)},contains:function(d){return !d?false:this.isAncestor(d)},getAttribute:function(e,f){var g=this.dom;return g.getAttributeNS(f,e)||g.getAttribute(f+":"+e)||g.getAttribute(e)||g[e]},setHTML:function(d){if(this.dom){this.dom.innerHTML=d}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(h,d){var e=this,g=e.dom,f=this.getVisibilityMode();switch(f){case c.VISIBILITY:this.removeCls(["x-hidden-display","x-hidden-offsets"]);this[h?"removeCls":"addCls"]("x-hidden-visibility");break;case c.DISPLAY:this.removeCls(["x-hidden-visibility","x-hidden-offsets"]);this[h?"removeCls":"addCls"]("x-hidden-display");break;case c.OFFSETS:this.removeCls(["x-hidden-visibility","x-hidden-display"]);this[h?"removeCls":"addCls"]("x-hidden-offsets");break}return e},getVisibilityMode:function(){var e=this.dom,d=c.data(e,"visibilityMode");if(d===undefined){c.data(e,"visibilityMode",d=c.DISPLAY)}return d},setVisibilityMode:function(d){c.data(this.dom,"visibilityMode",d);return this}});var a=c.prototype;c.VISIBILITY=1;c.DISPLAY=2;c.OFFSETS=3;c.addMethods=function(d){Ext.apply(a,d)};a.on=a.addListener;a.un=a.removeListener;a.update=a.setHTML;c.get=function(d){var g,f,h;if(!d){return null}if(typeof d=="string"){if(!(f=document.getElementById(d))){return null}if(Ext.cache[d]&&Ext.cache[d].el){g=Ext.cache[d].el;g.dom=f}else{g=c.addToCache(new c(f))}return g}else{if(d.tagName){if(!(h=d.id)){h=Ext.id(d)}if(Ext.cache[h]&&Ext.cache[h].el){g=Ext.cache[h].el;g.dom=d}else{g=c.addToCache(new c(d))}return g}else{if(d instanceof c){if(d!=c.docEl){d.dom=document.getElementById(d.id)||d.dom}return d}else{if(d.isComposite){return d}else{if(Ext.isArray(d)){return c.select(d)}else{if(d==document){if(!c.docEl){var e=function(){};e.prototype=a;c.docEl=new e();c.docEl.dom=document;c.docEl.id=Ext.id(document)}return c.docEl}}}}}}return null};c.addToCache=function(d,e){e=e||d.id;Ext.cache[e]={el:d,data:{},events:{}};return d};c.data=function(e,d,f){e=c.get(e);if(!e){return null}var g=Ext.cache[e.id].data;if(arguments.length==2){return g[d]}else{return(g[d]=f)}};c.garbageCollect=function(){if(!Ext.enableGarbageCollector){clearInterval(c.collectorThreadId)}else{var f,e,d=Ext.cache;for(f in d){if(!d.hasOwnProperty(f)){continue}if(d[f].skipGarbageCollection){continue}e=d[f].el.dom;if(!e||!e.parentNode||(!e.offsetParent&&!document.getElementById(f))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(e)}delete d[f]}}}};c.Flyweight=function(d){this.dom=d};var b=function(){};b.prototype=a;c.Flyweight.prototype=new b;c.Flyweight.prototype.isFlyweight=true;c._flyweights={};c.fly=function(f,d){var e=null;d=d||"_global";f=Ext.getDom(f);if(f){(c._flyweights[d]=c._flyweights[d]||new c.Flyweight()).dom=f;e=c._flyweights[d]}return e};Ext.get=c.get;Ext.fly=c.fly})();Ext.applyIf(Ext.Element,{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(b,a){if(b===""||b=="auto"||b===null||b===undefined){b=b||""}else{if(!isNaN(b)||!this.unitRe.test(b)){b=b+(a||this.defaultUnit||"px")}}return b},parseBox:function(b){if(typeof b!="string"){b=b.toString()}var c=b.split(" "),a=c.length;if(a==1){c[1]=c[2]=c[3]=c[0]}else{if(a==2){c[2]=c[0];c[3]=c[1]}else{if(a==3){c[3]=c[1]}}}return{top:parseFloat(c[0])||0,right:parseFloat(c[1])||0,bottom:parseFloat(c[2])||0,left:parseFloat(c[3])||0}},unitizeBox:function(c,b){var a=this.addUnits,d=this.parseBox(c);return a(d.top,b)+" "+a(d.right,b)+" "+a(d.bottom,b)+" "+a(d.left,b)},camelReplaceFn:function(b,c){return c.charAt(1).toUpperCase()},normalize:function(a){return this.propertyCache[a]||(this.propertyCache[a]=a=="float"?"cssFloat":a.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return(window.orientation==0)?"portrait":"landscape"}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))}});Ext.applyIf(Ext.Element,{getComputedTransformOffset:function(c){if(c instanceof Ext.Element){c=c.dom}var a=window.getComputedStyle(c).webkitTransform,b=a!="none"?new WebKitCSSMatrix(a):new WebKitCSSMatrix();if(typeof b.m41!="undefined"){return new Ext.util.Offset(b.m41,b.m42)}else{if(typeof b.d!="undefined"){return new Ext.util.Offset(b.d,b.e)}}return new Ext.util.Offset(0,0)},cssTransform:function(c,b){if(c instanceof Ext.Element){c=c.dom}var a=new WebKitCSSMatrix();Ext.iterate(b,function(e,d){d=Ext.isArray(d)?d:[d];a=a[e].apply(a,d)});if(Ext.supports.CSS3DTransform){c.style.webkitTransform="matrix3d("+a.m11+", "+a.m12+", "+a.m13+", "+a.m14+", "+a.m21+", "+a.m22+", "+a.m23+", "+a.m24+", "+a.m31+", "+a.m32+", "+a.m33+", "+a.m34+", "+a.m41+", "+a.m42+", "+a.m43+", "+a.m44+")"}else{c.style.webkitTransform=a}},cssTranslate:function(a,b){if(a instanceof Ext.Element){a=a.dom}if(Ext.supports.CSS3DTransform){a.style.webkitTransform="translate3d("+b.x+"px, "+b.y+"px, 0px)"}else{a.style.webkitTransform="translate("+b.x+"px, "+b.y+"px)"}}});Ext.Element.addMethods({getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(){var a=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[a.x,a.y]},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a,"_internal").getXY();return[c[0]-b[0],c[1]-b[1]]},setXY:function(d){var b=this;if(arguments.length>1){d=[d,arguments[1]]}var c=b.translatePoints(d),a=b.dom.style;for(d in c){if(!c.hasOwnProperty(d)){continue}if(!isNaN(c[d])){a[d]=c[d]+"px"}}return b},setX:function(a){return this.setXY([a,this.getY()])},setY:function(a){return this.setXY([this.getX(),a])},setLeft:function(a){this.setStyle("left",Ext.Element.addUnits(a));return this},setTop:function(a){this.setStyle("top",Ext.Element.addUnits(a));return this},setTopLeft:function(c,b){var a=Ext.Element.addUnits;this.setStyle("top",a(c));this.setStyle("left",a(b));return this},setRight:function(a){this.setStyle("right",Ext.Element.addUnits(a));return this},setBottom:function(a){this.setStyle("bottom",Ext.Element.addUnits(a));return this},getLeft:function(a){return parseInt(this.getStyle("left"),10)||0},getRight:function(a){return parseInt(this.getStyle("right"),10)||0},getTop:function(a){return parseInt(this.getStyle("top"),10)||0},getBottom:function(a){return parseInt(this.getStyle("bottom"),10)||0},setBox:function(d,c,b,a){var e;if(Ext.isObject(d)){b=d.width;a=d.height;c=d.top;d=d.left}if(d!==e){this.setLeft(d)}if(c!==e){this.setTop(c)}if(b!==e){this.setWidth(b)}if(a!==e){this.setHeight(a)}return this},getBox:function(g,j){var h=this,e=h.dom,c=e.offsetWidth,k=e.offsetHeight,n,f,d,a,m,i;if(!j){n=h.getXY()}else{if(g){n=[0,0]}else{n=[parseInt(h.getStyle("left"),10)||0,parseInt(h.getStyle("top"),10)||0]}}if(!g){f={x:n[0],y:n[1],0:n[0],1:n[1],width:c,height:k}}else{d=h.getBorderWidth.call(h,"l")+h.getPadding.call(h,"l");a=h.getBorderWidth.call(h,"r")+h.getPadding.call(h,"r");m=h.getBorderWidth.call(h,"t")+h.getPadding.call(h,"t");i=h.getBorderWidth.call(h,"b")+h.getPadding.call(h,"b");f={x:n[0]+d,y:n[1]+m,0:n[0]+d,1:n[1]+m,width:c-(d+a),height:k-(m+i)}}f.left=f.x;f.top=f.y;f.right=f.x+f.width;f.bottom=f.y+f.height;return f},getPageBox:function(e){var g=this,c=g.dom,j=c.offsetWidth,f=c.offsetHeight,m=g.getXY(),k=m[1],a=m[0]+j,i=m[1]+f,d=m[0];if(!c){return new Ext.util.Region()}if(e){return new Ext.util.Region(k,a,i,d)}else{return{left:d,top:k,width:j,height:f,right:a,bottom:i}}},translatePoints:function(a,g){g=isNaN(a[1])?g:a[1];a=isNaN(a[0])?a:a[0];var d=this,e=d.isStyle("position","relative"),f=d.getXY(),b=parseInt(d.getStyle("left"),10),c=parseInt(d.getStyle("top"),10);b=!isNaN(b)?b:(e?0:d.dom.offsetLeft);c=!isNaN(c)?c:(e?0:d.dom.offsetTop);return{left:(a-f[0]+b),top:(g-f[1]+c)}}});(function(){Ext.Element.classReCache={};var b=Ext.Element,a=document.defaultView;b.addMethods({marginRightRe:/marginRight/i,trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,addCls:function(g){var h=this,f,c,e,d=[];if(!Ext.isArray(g)){if(g&&!this.hasCls(g)){h.dom.className+=" "+g}}else{for(f=0,c=g.length;f<c;f++){e=g[f];if(e&&!h.hasCls(e)){d.push(e)}}if(d.length){h.dom.className+=" "+d.join(" ")}}return h},addClass:function(){throw new Error("Component: addClass has been deprecated. Please use addCls.")},removeCls:function(h){var j=this,g,d,c,f,e;if(!Ext.isArray(h)){h=[h]}if(j.dom&&j.dom.className){e=j.dom.className.replace(this.trimRe,"").split(this.spacesRe);for(g=0,c=h.length;g<c;g++){f=h[g];if(typeof f=="string"){f=f.replace(this.trimRe,"");d=e.indexOf(f);if(d!=-1){e.splice(d,1)}}}j.dom.className=e.join(" ")}return j},removeClass:function(){throw new Error("Component: removeClass has been deprecated. Please use removeCls.")},mask:function(d,f,i){var g=this,e=g.dom,c=Ext.Element.data(e,"mask"),k,j,h="";g.addCls("x-masked");if(g.getStyle("position")=="static"){g.addCls("x-masked-relative")}if(c){c.remove()}if(Ext.isString(f)&&!Ext.isEmpty(f)){h=" "+f}else{if(f){h=" x-mask-gray"}}k=g.createChild({cls:"x-mask"+((i!==false)?"":" x-mask-gray"),html:d?('<div class="'+(f||"x-mask-message")+'">'+d+"</div>"):""});j=g.getSize();Ext.Element.data(e,"mask",k);if(e===document.body){j.height=window.innerHeight;if(g.orientationHandler){Ext.EventManager.unOrientationChange(g.orientationHandler,g)}g.orientationHandler=function(){j=g.getSize();j.height=window.innerHeight;k.setSize(j)};Ext.EventManager.onOrientationChange(g.orientationHandler,g)}k.setSize(j);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var d=this,e=d.dom,c=Ext.Element.data(e,"mask");if(c){c.remove();Ext.Element.data(e,"mask",undefined)}d.removeCls(["x-masked","x-masked-relative"]);if(e===document.body){Ext.EventManager.unOrientationChange(d.orientationHandler,d);delete d.orientationHandler}},radioCls:function(f){var g=this.dom.parentNode.childNodes,d;f=Ext.isArray(f)?f:[f];for(var e=0,c=g.length;e<c;e++){d=g[e];if(d&&d.nodeType==1){Ext.fly(d,"_internal").removeCls(f)}}return this.addCls(f)},radioClass:function(){throw new Error("Component: radioClass has been deprecated. Please use radioCls.")},toggleCls:function(c){return this.hasCls(c)?this.removeCls(c):this.addCls(c)},toggleClass:function(){throw new Error("Component: toggleClass has been deprecated. Please use toggleCls.")},hasCls:function(c){return c&&(" "+this.dom.className+" ").indexOf(" "+c+" ")!=-1},hasClass:function(){throw new Error("Element: hasClass has been deprecated. Please use hasCls.");return this.hasCls.apply(this,arguments)},replaceCls:function(d,c){return this.removeCls(d).addCls(c)},replaceClass:function(){throw new Error("Component: replaceClass has been deprecated. Please use replaceCls.")},isStyle:function(c,d){return this.getStyle(c)==d},getStyle:function(i){var h=this.dom,d,g,f,c=Ext.is,e=h.style;i=b.normalize(i);f=(a)?a.getComputedStyle(h,""):h.currentStyle;d=(f)?f[i]:null;if(d&&!c.correctRightMargin&&this.marginRightRe.test(i)&&e.position!="absolute"&&d!="0px"){g=e.display;e.display="inline-block";d=a.getComputedStyle(h,null)[i];e.display=g}d||(d=e[i]);if(!c.correctTransparentColor&&d=="rgba(0, 0, 0, 0)"){d="transparent"}return d},setStyle:function(f,e){var c,d;if(typeof f=="string"){c={};c[f]=e;f=c}for(d in f){if(f.hasOwnProperty(d)){this.dom.style[b.normalize(d)]=f[d]}}return this},applyStyles:function(e){if(e){var d,c,f=this.dom;if(typeof e=="function"){e=e.call()}if(typeof e=="string"){e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/);for(d=0,c=e.length;d<c;){f.style[b.normalize(e[d++])]=e[d++]}}else{if(typeof e=="object"){this.setStyle(e)}}}},getHeight:function(d){var e=this.dom,c=d?(e.clientHeight-this.getPadding("tb")):e.offsetHeight;return c>0?c:0},getWidth:function(c){var e=this.dom,d=c?(e.clientWidth-this.getPadding("lr")):e.offsetWidth;return d>0?d:0},setWidth:function(c){var d=this;d.dom.style.width=b.addUnits(c);return d},setHeight:function(c){var d=this;d.dom.style.height=b.addUnits(c);return d},setSize:function(e,c){var f=this,d=f.dom.style;if(Ext.isObject(e)){c=e.height;e=e.width}d.width=b.addUnits(e);d.height=b.addUnits(c);return f},getBorderWidth:function(c){return this.sumStyles(c,b.borders)},getPadding:function(c){return this.sumStyles(c,b.paddings)},getMargin:function(c){return this.sumStyles(c,b.margins)},getViewSize:function(){var c=document,d=this.dom;if(d==c||d==c.body){return{width:b.getViewportWidth(),height:b.getViewportHeight()}}else{return{width:d.clientWidth,height:d.clientHeight}}},getSize:function(d){var c=this.dom;return{width:Math.max(0,d?(c.clientWidth-this.getPadding("lr")):c.offsetWidth),height:Math.max(0,d?(c.clientHeight-this.getPadding("tb")):c.offsetHeight)}},repaint:function(){var c=this.dom;this.addCls("x-repaint");c.style.background="transparent none";setTimeout(function(){c.style.background=null;Ext.get(c).removeCls("x-repaint")},1);return this},getOuterWidth:function(){return this.getWidth()+this.getMargin("lr")},getOuterHeight:function(){return this.getHeight()+this.getMargin("tb")},sumStyles:function(h,g){var j=0,d=h.match(/\w/g),c=d.length,f,e;for(e=0;e<c;e++){f=d[e]&&parseFloat(this.getStyle(g[d[e]]))||0;if(f){j+=Math.abs(f)}}return j}})})();Ext.Element.addMethods({findParent:function(h,g,c){var e=this.dom,a=document.body,f=0,d;g=g||50;if(isNaN(g)){d=Ext.getDom(g);g=Number.MAX_VALUE}while(e&&e.nodeType==1&&f<g&&e!=a&&e!=d){if(Ext.DomQuery.is(e,h)){return c?Ext.get(e):e}f++;e=e.parentNode}return null},findParentNode:function(d,c,a){var b=Ext.fly(this.dom.parentNode,"_internal");return b?b.findParent(d,c,a):null},up:function(b,a){return this.findParentNode(b,a,true)},select:function(a,b){return Ext.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var c=Ext.DomQuery.selectNode(a,this.dom);return b?c:Ext.get(c)},child:function(a,b){var d,c=this,e;e=Ext.get(c).id;e=e.replace(/[\.:]/g,"\\$0");d=Ext.DomQuery.selectNode("#"+e+" > "+a,c.dom);return b?d:Ext.get(d)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(b,e,a,c){if(!this.dom){return null}var d=this.dom[e];while(d){if(d.nodeType==1&&(!a||Ext.DomQuery.is(d,a))){return !c?Ext.get(d):d}d=d[b]}return null}});Ext.Element.addMethods({appendChild:function(a){return Ext.get(a).appendTo(this)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(b,a){b=b||{};if(b.nodeType||b.dom||typeof b=="string"){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !a?Ext.get(b):b}else{return this.createChild(b,this.dom.firstChild,a)}},insertSibling:function(e,c,d){var f=this,b,a=(c||"before").toLowerCase()=="after",g;if(Ext.isArray(e)){g=f;Ext.each(e,function(h){b=Ext.fly(g,"_internal").insertSibling(h,c,d);if(a){g=b}});return b}e=e||{};if(e.nodeType||e.dom){b=f.dom.parentNode.insertBefore(Ext.getDom(e),a?f.dom.nextSibling:f.dom);if(!d){b=Ext.get(b)}}else{if(a&&!f.dom.nextSibling){b=Ext.DomHelper.append(f.dom.parentNode,e,!d)}else{b=Ext.DomHelper[a?"insertAfter":"insertBefore"](f.dom,e,!d)}}return b},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){var b=this;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);b.dom.parentNode.insertBefore(a,b.dom)}else{a=Ext.DomHelper.insertBefore(b.dom,a)}delete Ext.cache[b.id];Ext.removeNode(b.dom);b.id=Ext.id(b.dom=a);Ext.Element.addToCache(b.isFlyweight?new Ext.Element(b.dom):b);return b},createChild:function(b,a,c){b=b||{tag:"div"};if(a){return Ext.DomHelper.insertBefore(a,b,c!==true)}else{return Ext.DomHelper[!this.dom.firstChild?"overwrite":"append"](this.dom,b,c!==true)}},wrap:function(a,b){var c=Ext.DomHelper.insertBefore(this.dom,a||{tag:"div"},!b);c.dom?c.dom.appendChild(this.dom):c.appendChild(this.dom);return c},insertHtml:function(b,c,a){var d=Ext.DomHelper.insertHtml(b,this.dom,c);return a?Ext.get(d):d}});Ext.DomHelper={emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/tag|children|cn|html$/i,endRe:/end/i,markup:function(h){var d="",c,g,f,a,j;if(typeof h=="string"){d=h}else{if(Ext.isArray(h)){for(var e=0;e<h.length;e++){if(h[e]){d+=this.markup(h[e])}}}else{d+="<"+(h.tag=h.tag||"div");for(c in h){if(!h.hasOwnProperty(c)){continue}g=h[c];if(!this.confRe.test(c)){if(typeof g=="object"){d+=" "+c+'="';for(f in g){if(!g.hasOwnProperty(f)){continue}d+=f+":"+g[f]+";"}d+='"'}else{d+=" "+({cls:"class",htmlFor:"for"}[c]||c)+'="'+g+'"'}}}if(this.emptyTags.test(h.tag)){d+="/>"}else{d+=">";if((j=h.children||h.cn)){d+=this.markup(j)}else{if(h.html){d+=h.html}}d+="</"+h.tag+">"}}}return d},applyStyles:function(d,e){if(e){var b=0,a,c;d=Ext.fly(d);if(typeof e=="function"){e=e.call()}if(typeof e=="string"){e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/);for(a=e.length;b<a;){d.setStyle(e[b++],e[b++])}}else{if(Ext.isObject(e)){d.setStyle(e)}}}},insertHtml:function(f,a,g){var e={},c,i,h,j,d,b;f=f.toLowerCase();e.beforebegin=["BeforeBegin","previousSibling"];e.afterend=["AfterEnd","nextSibling"];h=a.ownerDocument.createRange();i="setStart"+(this.endRe.test(f)?"After":"Before");if(e[f]){h[i](a);j=h.createContextualFragment(g);a.parentNode.insertBefore(j,f=="beforebegin"?a:a.nextSibling);return a[(f=="beforebegin"?"previous":"next")+"Sibling"]}else{d=(f=="afterbegin"?"first":"last")+"Child";if(a.firstChild){h[i](a[d]);j=h.createContextualFragment(g);if(f=="afterbegin"){a.insertBefore(j,a.firstChild)}else{a.appendChild(j)}}else{a.innerHTML=g}return a[d]}throw'Illegal insertion point -> "'+f+'"'},insertBefore:function(a,c,b){return this.doInsert(a,c,b,"beforebegin")},insertAfter:function(a,c,b){return this.doInsert(a,c,b,"afterend","nextSibling")},insertFirst:function(a,c,b){return this.doInsert(a,c,b,"afterbegin","firstChild")},append:function(a,c,b){return this.doInsert(a,c,b,"beforeend","",true)},overwrite:function(a,c,b){a=Ext.getDom(a);a.innerHTML=this.markup(c);return b?Ext.get(a.firstChild):a.firstChild},doInsert:function(d,f,e,g,c,a){var b=this.insertHtml(g,Ext.getDom(d),this.markup(f));return e?Ext.get(b,true):b}};Ext.DomQuery={select:function(h,b){var g=[],d,f,e,c,a;b=b||document;if(typeof b=="string"){b=document.getElementById(b)}h=h.split(",");for(f=0,c=h.length;f<c;f++){if(typeof h[f]=="string"){d=b.querySelectorAll(h[f]);for(e=0,a=d.length;e<a;e++){g.push(d[e])}}}return g},selectNode:function(b,a){return Ext.DomQuery.select(b,a)[0]},is:function(a,b){if(typeof a=="string"){a=document.getElementById(a)}return Ext.DomQuery.select(b).indexOf(a)!==-1}};Ext.Element.selectorFunction=Ext.DomQuery.select;Ext.query=Ext.DomQuery.select;Ext.apply(Ext,{version:"1.1.0",versionDetail:{major:1,minor:1,patch:0},setup:function(a){if(a&&typeof a=="object"){if(a.addMetaTags!==false){this.addMetaTags(a)}if(Ext.isFunction(a.onReady)){var b=this;Ext.onReady(function(){var c=arguments;if(a.fullscreen!==false){Ext.Viewport.init(function(){a.onReady.apply(b,c)})}else{a.onReady.apply(this,c)}},a.scope)}}},getDom:function(a){if(!a||!document){return null}return a.dom?a.dom:(typeof a=="string"?document.getElementById(a):a)},removeNode:function(a){if(a&&a.parentNode&&a.tagName!="BODY"){Ext.EventManager.removeAll(a);a.parentNode.removeChild(a);delete Ext.cache[a.id]}},addMetaTags:function(b){if(!Ext.isObject(b)){return}var c=Ext.get(document.getElementsByTagName("head")[0]),a,d;if(!Ext.is.Desktop){a=Ext.get(document.createElement("meta"));a.set({name:"viewport",content:"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0;"});c.appendChild(a)}if(Ext.is.iOS){if(b.fullscreen!==false){a=Ext.get(document.createElement("meta"));a.set({name:"apple-mobile-web-app-capable",content:"yes"});c.appendChild(a);if(Ext.isString(b.statusBarStyle)){a=Ext.get(document.createElement("meta"));a.set({name:"apple-mobile-web-app-status-bar-style",content:b.statusBarStyle});c.appendChild(a)}}if(b.tabletStartupScreen&&Ext.is.iPad){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-startup-image",href:b.tabletStartupScreen});c.appendChild(a)}if(b.phoneStartupScreen&&!Ext.is.iPad){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-startup-image",href:b.phoneStartupScreen});c.appendChild(a)}if(b.icon){b.phoneIcon=b.tabletIcon=b.icon}d=(b.glossOnIcon===false)?"-precomposed":"";if(Ext.is.iPad&&Ext.isString(b.tabletIcon)){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-icon"+d,href:b.tabletIcon});c.appendChild(a)}else{if(!Ext.is.iPad&&Ext.isString(b.phoneIcon)){a=Ext.get(document.createElement("link"));a.set({rel:"apple-touch-icon"+d,href:b.phoneIcon});c.appendChild(a)}}}}});(function(){var a=function(){var c=Ext.getBody(),b=[];if(!c){return false}var d=Ext.is;if(d.Phone){b.push("x-phone")}else{if(d.Tablet){b.push("x-tablet")}else{if(d.Desktop){b.push("x-desktop")}}}if(d.iPad){b.push("x-ipad")}if(d.iOS){b.push("x-ios")}if(d.Android){b.push("x-android")}if(d.Blackberry){b.push("x-bb")}if(d.Standalone){b.push("x-standalone")}if(b.length){c.addCls(b)}return true};if(!a()){Ext.onReady(a)}})();Ext.Viewport=new (Ext.extend(Ext.util.Observable,{constructor:function(){var a=this;this.addEvents("orientationchange","resize");this.stretchSizes={};if(Ext.supports.OrientationChange){window.addEventListener("orientationchange",Ext.createDelegate(a.onOrientationChange,a),false)}else{window.addEventListener("resize",Ext.createDelegate(a.onResize,a),false)}if(!Ext.desktop){document.addEventListener("touchstart",Ext.createDelegate(a.onTouchStartCapturing,a),true)}},init:function(c,b){var d=this,e=Math.max(window.innerHeight,window.innerWidth)*2,a=Ext.getBody();d.updateOrientation();this.initialHeight=window.innerHeight;this.initialOrientation=this.orientation;a.setHeight(e);Ext.gesture.Manager.freeze();this.scrollToTop();setTimeout(function(){d.scrollToTop();setTimeout(function(){d.scrollToTop();d.initialHeight=Math.max(d.initialHeight,window.innerHeight);if(c){c.apply(b||window)}d.updateBodySize();Ext.gesture.Manager.thaw()},500)},500)},scrollToTop:function(){if(Ext.is.iOS){if(Ext.is.Phone){document.body.scrollTop=document.body.scrollHeight}}else{if(Ext.is.Blackberry){window.scrollTo(0,1000)}else{window.scrollTo(0,1)}}},updateBodySize:function(){Ext.getBody().setSize(window.innerWidth,window.innerHeight)},updateOrientation:function(){this.lastSize=this.getSize();this.orientation=this.getOrientation()},onTouchStartCapturing:function(a){if(!Ext.currentlyFocusedField&&Ext.is.iOS){this.scrollToTop()}},onOrientationChange:function(){var b=this,a=Ext.getBody();if(!Ext.is.Phone){a.setHeight(a.getWidth());this.updateOrientation();this.fireEvent("orientationchange",this,this.orientation);b.scrollToTop();b.updateBodySize();b.fireResizeEvent();Ext.repaint();return}Ext.gesture.Manager.freeze();a.setHeight(a.getWidth());this.updateOrientation();this.fireEvent("orientationchange",this,this.orientation);setTimeout(function(){b.scrollToTop();setTimeout(function(){b.updateBodySize();b.fireResizeEvent();Ext.gesture.Manager.thaw();Ext.repaint()},200)},200)},fireResizeEvent:function(){var a=this;if(!Ext.is.iOS){if(this.resizeEventTimer){clearTimeout(this.resizeEventTimer)}this.resizeEventTimer=setTimeout(function(){a.fireEvent("resize",a,a.getSize())},500)}else{a.fireEvent("resize",a,a.getSize())}},onResize:function(){if(this.orientation!=this.getOrientation()){this.onOrientationChange()}else{var a=this.getSize();if(!Ext.is.iOS&&!Ext.is.Desktop){if((a.width==this.lastSize.width&&a.height>this.lastSize.height)||(a.height==this.lastSize.height&&a.width>this.lastSize.width)){this.fireEvent("resize",this,a)}}else{this.fireEvent("resize",this,a)}}},getSize:function(){var a={width:window.innerWidth,height:window.innerHeight};if(!Ext.is.Desktop){a.height=(this.orientation==this.initialOrientation)?Math.max(this.initialHeight,a.height):a.height}return a},getOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},getOrientation:function(){var a=this.getSize();if(window.hasOwnProperty("orientation")){return(window.orientation==0||window.orientation==180)?"portrait":"landscape"}else{if(!Ext.is.iOS&&!Ext.is.Desktop){if((a.width==this.lastSize.width&&a.height<this.lastSize.height)||(a.height==this.lastSize.height&&a.width<this.lastSize.width)){return this.orientation}}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"}}}));Ext.util.TapRepeater=Ext.extend(Ext.util.Observable,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);this.addEvents("touchstart","tap","touchend");this.el.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,scope:this});if(this.preventDefault||this.stopDefault){this.el.on("tap",this.eventOptions,this)}Ext.util.TapRepeater.superclass.constructor.call(this)},interval:10,delay:250,preventDefault:true,stopDefault:false,timer:0,eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){Ext.destroy(this.el);this.clearListeners()},onTouchStart:function(a){clearTimeout(this.timer);if(this.pressClass){this.el.addCls(this.pressClass)}this.tapStartTime=new Date();this.fireEvent("touchstart",this,a);this.fireEvent("tap",this,a);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.tap,this.delay||this.interval,this,[a])},tap:function(a){this.fireEvent("tap",this,a);this.timer=Ext.defer(this.tap,this.accelerate?this.easeOutExpo(Ext.util.Date.getElapsed(this.tapStartTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a},onTouchEnd:function(a){clearTimeout(this.timer);this.el.removeCls(this.pressClass);this.fireEvent("touchend",this,a)}});Ext.util.Draggable=Ext.extend(Ext.util.Observable,{baseCls:"x-draggable",draggingCls:"x-dragging",proxyCls:"x-draggable-proxy",outOfBoundRestrictFactor:1,direction:"both",fps:Ext.is.Blackberry?25:((Ext.is.iOS||Ext.is.Desktop)?80:50),constrain:window,threshold:0,delay:0,cancelSelector:null,disabled:false,revert:false,group:"base",useCssTransform:true,grid:null,snap:null,proxy:null,stack:false,animationDuration:300,updateBoundaryOnTouchStart:true,offsetBoundary:null,dragging:false,vertical:false,horizontal:false,monitorOrientation:true,constructor:function(b,a){this.el=Ext.get(b);this.id=b.id;a=a||{};Ext.apply(this,a);this.addEvents("offsetchange","offsetboundaryupdate");Ext.util.Draggable.superclass.constructor.call(this,a);if(this.eventTarget==="parent"){this.eventTarget=this.el.parent()}else{this.eventTarget=(this.eventTarget)?Ext.get(this.eventTarget):this.el}if(this.direction=="both"){this.horizontal=true;this.vertical=true}else{if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}}this.el.addCls(this.baseCls);if(this.proxy){this.getProxyEl().addCls(this.proxyCls)}this.startEventName=(this.delay>0)?"taphold":"dragstart";this.dragOptions=(this.delay>0)?{holdThreshold:this.delay}:{direction:this.direction,dragThreshold:this.threshold};this.container=window;if(this.constrain){if(this.constrain==="parent"){this.container=this.el.parent()}else{if(this.constrain!==window){this.container=Ext.get(this.constrain)}}}this.offset=new Ext.util.Offset();this.linearAnimation={x:new Ext.util.Draggable.Animation.Linear(),y:new Ext.util.Draggable.Animation.Linear()};this.updateBoundary(true);this.setDragging(false);if(!this.disabled){this.enable()}return this},enable:function(){return this.setEnabled(true)},disable:function(){return this.setEnabled(false)},setEnabled:function(a){this.eventTarget[a?"on":"un"](this.startEventName,this.onStart,this,this.dragOptions);this.eventTarget[a?"on":"un"]("drag",this.onDrag,this,this.dragOptions);this.eventTarget[a?"on":"un"]("dragend",this.onDragEnd,this,this.dragOptions);this.eventTarget[a?"on":"un"]("touchstart",this.onTouchStart,this);if(a){Ext.EventManager.onOrientationChange(this.onOrientationChange,this)}else{Ext.EventManager.orientationEvent.removeListener(this.onOrientationChange,this)}this.disabled=!a;return this},setUseCssTransform:function(a){if(typeof a=="undefined"){a=true}if(a!=this.useCssTransform){this.useCssTransform=a;var b=new Ext.util.Offset();if(a==false){this.setStyleOffset(this.offset);this.setTransformOffset(b,true)}else{this.setTransformOffset(this.offset);this.setStyleOffset(b)}}return this},setOffset:function(b,a){if(!this.horizontal){b.x=0}if(!this.vertical){b.y=0}if(!(b instanceof Ext.util.Offset)){b=Ext.util.Offset.fromObject(b)}b.round();if(!this.offset.equals(b)){if(a){this.startAnimation(b,a)}else{this.offset=b;this.region=new Ext.util.Region(this.initialRegion.top+b.y,this.initialRegion.right+b.x,this.initialRegion.bottom+b.y,this.initialRegion.left+b.x);if(this.useCssTransform){this.setTransformOffset(b)}else{this.setStyleOffset(b)}this.fireEvent("offsetchange",this,this.offset)}}return this},setTransformOffset:function(b,a){if(a){this.getProxyEl().dom.style.webkitTransform=""}else{Ext.Element.cssTranslate(this.getProxyEl(),b)}return this},setStyleOffset:function(b){var a=this.getProxyEl();a.dom.style.left=b.x+"px";a.dom.style.top=b.y+"px";return this},startAnimation:function(d,a){var c=this;this.stopAnimation();var b=Date.now();a=Ext.isNumber(a)?a:this.animationDuration;this.linearAnimation.x.set({startOffset:this.offset.x,endOffset:d.x,startTime:b,duration:a});this.linearAnimation.y.set({startOffset:this.offset.y,endOffset:d.y,startTime:b,duration:a});this.isAnimating=true;this.animationTimer=setInterval(function(){c.handleAnimationFrame()},this.getFrameDuration());return this},getFrameDuration:function(){return 1000/this.fps},stopAnimation:function(){if(this.isAnimating){clearInterval(this.animationTimer);this.isAnimating=false;this.setDragging(false)}return this},handleAnimationFrame:function(){if(!this.isAnimating){return}var a=new Ext.util.Offset();a.x=this.linearAnimation.x.getOffset();a.y=this.linearAnimation.y.getOffset();this.setOffset(a);if((a.x===this.linearAnimation.x.endOffset)&&(a.y===this.linearAnimation.y.endOffset)){this.stopAnimation()}},getOffset:function(){var a=this.offset.copy();a.y=-a.y;a.x=-a.x;return a},updateBoundary:function(f){var h;if(typeof f=="undefined"){f=false}this.size={width:this.el.dom.scrollWidth,height:this.el.dom.scrollHeight};if(this.container===window){this.containerBox={left:0,top:0,right:this.container.innerWidth,bottom:this.container.innerHeight,width:this.container.innerWidth,height:this.container.innerHeight}}else{this.containerBox=this.container.getPageBox()}var a=this.el.getXY();this.elBox={left:a[0]-this.offset.x,top:a[1]-this.offset.y,width:this.size.width,height:this.size.height};this.elBox.bottom=this.elBox.top+this.elBox.height;this.elBox.right=this.elBox.left+this.elBox.width;this.initialRegion=this.region=new Ext.util.Region(a[1],a[0]+this.elBox.width,a[1]+this.elBox.height,a[0]);var e=0,c=0,b=0,d=0;if(this.elBox.left<this.containerBox.left){c+=this.containerBox.left-this.elBox.left}else{d-=this.elBox.left-this.containerBox.left}if(this.elBox.right>this.containerBox.right){d-=this.elBox.right-this.containerBox.right}else{c+=this.containerBox.right-this.elBox.right}if(this.elBox.top<this.containerBox.top){b+=this.containerBox.top-this.elBox.top}else{e-=this.elBox.top-this.containerBox.top}if(this.elBox.bottom>this.containerBox.bottom){e-=this.elBox.bottom-this.containerBox.bottom}else{b+=this.containerBox.bottom-this.elBox.bottom}h=new Ext.util.Region(e,c,b,d).round();if(this.offsetBoundary&&this.offsetBoundary.equals(h)){return this}this.offsetBoundary=h;this.fireEvent("offsetboundaryupdate",this,this.offsetBoundary);var g;if(this.useCssTransform){g=Ext.Element.getComputedTransformOffset(this.getProxyEl());if(!this.offset.equals(g)||f){this.setOffset(g)}}return this},onTouchStart:function(){},onStart:function(a){if(this.updateBoundaryOnTouchStart){this.updateBoundary()}this.stopAnimation();this.setDragging(true);this.startTouchPoint=new Ext.util.Point(a.startX,a.startY);this.startOffset=this.offset.copy();this.fireEvent("dragstart",this,a);return true},getNewOffsetFromTouchPoint:function(a){var c=a.x-this.startTouchPoint.x,b=a.y-this.startTouchPoint.y,d=this.offset.copy();if(c==0&&b==0){return d}if(this.horizontal){d.x=this.startOffset.x+c}if(this.vertical){d.y=this.startOffset.y+b}return d},onDrag:function(a){if(!this.dragging){return}this.lastTouchPoint=Ext.util.Point.fromEvent(a);var b=this.getNewOffsetFromTouchPoint(this.lastTouchPoint);if(this.offsetBoundary!=null){b=this.offsetBoundary.restrict(b,this.outOfBoundRestrictFactor)}this.setOffset(b);this.fireEvent("drag",this,a);return true},onDragEnd:function(a){if(this.dragging){this.fireEvent("beforedragend",this,a);if(this.revert&&!this.cancelRevert){this.setOffset(this.startOffset,true)}else{this.setDragging(false)}this.fireEvent("dragend",this,a)}return true},onOrientationChange:function(){this.updateBoundary()},setDragging:function(a){if(a){if(!this.dragging){this.dragging=true;this.getProxyEl().addCls(this.draggingCls)}}else{if(this.dragging){this.dragging=false;this.getProxyEl().removeCls(this.draggingCls)}}return this},getProxyEl:function(){return this.proxy||this.el},destroy:function(){this.el.removeCls(this.baseCls);this.getProxyEl().removeCls(this.proxyCls);this.clearListeners();this.disable()},reset:function(){this.startOffset=new Ext.util.Offset(0,0);this.setOffset(this.startOffset);var a=this.initialRegion.copy();this.updateBoundary();this.initialRegion=this.region=this.getProxyEl().getPageBox(true);this.startTouchPoint.x+=this.initialRegion.left-a.left;this.startTouchPoint.y+=this.initialRegion.top-a.top},moveTo:function(a,b){this.setOffset(new Ext.util.Offset(a-this.initialRegion.left,b-this.initialRegion.top));return this},isDragging:function(){return this.dragging},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}});Ext.util.Draggable.Animation={};Ext.util.Draggable.Animation.Abstract=Ext.extend(Object,{startTime:null,startOffset:0,constructor:function(a){a=a||{};this.set(a);if(!this.startTime){this.startTime=Date.now()}},set:function(a,b){if(Ext.isObject(a)){Ext.apply(this,a)}else{this[a]=b}return this},getOffset:Ext.emptyFn});Ext.util.Draggable.Animation.Linear=Ext.extend(Ext.util.Draggable.Animation.Abstract,{duration:0,endOffset:0,getOffset:function(){var c=this.endOffset-this.startOffset,a=Date.now()-this.startTime,b=Math.min(1,(a/this.duration));return this.startOffset+(b*c)}});Ext.util.Droppable=Ext.extend(Ext.util.Observable,{baseCls:"x-droppable",activeCls:"x-drop-active",invalidCls:"x-drop-invalid",hoverCls:"x-drop-hover",validDropMode:"intersect",disabled:false,group:"base",tolerance:null,monitoring:false,constructor:function(b,a){a=a||{};Ext.apply(this,a);this.addEvents("dropactivate","dropdeactivate","dropenter","dropleave","drop");this.el=Ext.get(b);Ext.util.Droppable.superclass.constructor.call(this);if(!this.disabled){this.enable()}this.el.addCls(this.baseCls)},onDragStart:function(a,b){if(a.group===this.group){this.monitoring=true;this.el.addCls(this.activeCls);this.region=this.el.getPageBox(true);a.on({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this});if(this.isDragOver(a)){this.setCanDrop(true,a,b)}this.fireEvent("dropactivate",this,a,b)}else{a.on({dragend:function(){this.el.removeCls(this.invalidCls)},scope:this,single:true});this.el.addCls(this.invalidCls)}},isDragOver:function(a,b){return this.region[this.validDropMode](a.region)},onDrag:function(a,b){this.setCanDrop(this.isDragOver(a),a,b)},setCanDrop:function(c,a,b){if(c&&!this.canDrop){this.canDrop=true;this.el.addCls(this.hoverCls);this.fireEvent("dropenter",this,a,b)}else{if(!c&&this.canDrop){this.canDrop=false;this.el.removeCls(this.hoverCls);this.fireEvent("dropleave",this,a,b)}}},onBeforeDragEnd:function(a,b){a.cancelRevert=this.canDrop},onDragEnd:function(a,b){this.monitoring=false;this.el.removeCls(this.activeCls);a.un({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this});if(this.canDrop){this.canDrop=false;this.el.removeCls(this.hoverCls);this.fireEvent("drop",this,a,b)}this.fireEvent("dropdeactivate",this,a,b)},enable:function(){if(!this.mgr){this.mgr=Ext.util.Observable.observe(Ext.util.Draggable)}this.mgr.on({dragstart:this.onDragStart,scope:this});this.disabled=false},disable:function(){this.mgr.un({dragstart:this.onDragStart,scope:this});this.disabled=true},isDisabled:function(){return this.disabled},isMonitoring:function(){return this.monitoring}});Ext.util.EventSimulator=Ext.extend(Object,{supportedEvents:{touch:["touchstart","touchmove","touchend","gesturestart","gesturechange","gestureend"],mouse:["mousedown","mousemove","mouseup","click"]},getEventTypeByName:function(b){var a=null;Ext.iterate(this.supportedEvents,function(d,c){if(c.indexOf(b)!=-1){a=d}});return a},fire:function(b,c,a){b=b.toLowerCase();if(arguments.length==2){a=c;c=document}switch(this.getEventTypeByName(b)){case"touch":this.fireTouchEvent.call(this,b,c,a);break;case"mouse":this.fireMouseEvent.call(this,b,c,a);break;default:throw new Error("Event type "+b+" is currently not supported")}return this},createEvent:function(b,a){},createEventData:function(b,a){switch(this.getEventTypeByName(b.type)){case"touch":return this.createTouchEventData(b.type,b.target,b,a);break;case"mouse":return this.createMouseEventData(b.type,b.target,b,a);break;default:throw new Error("Event type "+b.type+" is currently not supported")}},fireTouchEvent:function(c,d,b){var e=this.createTouchEventData(c,d,b);var a=this.createTouchEvent(c,e);a.isSimulated=true;return d.dispatchEvent(a)},createTouchEventData:function(c,d,a,b){var e={type:c,timeStamp:Date.now(),bubbles:true,cancelable:true,detail:1,screenX:0,screenY:0,pageX:0,pageY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,scale:1,rotation:0};if(!b){e.target=d;e.view=document.defaultView}if(a){Ext.iterate(e,function(f,g){if(a.hasOwnProperty(f)){e[f]=a[f]}})}["touches","targetTouches","changedTouches"].forEach(function(f){if(a.hasOwnProperty(f)){e[f]=this.createTouchList(a[f],d,b)}else{e[f]=this.createTouchList(e,d,b)}},this);return e},createTouchEvent:function(b,c){if(typeof b!="string"){c=b;b=b.type}var a=document.createEvent("TouchEvent");if(a.initTouchEvent.length==9){a.initTouchEvent(c.touches,c.targetTouches,c.changedTouches,b,c.view,c.screenX,c.screenY,c.clientX,c.clientY)}else{a.initTouchEvent(b,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.pageX,c.pageY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.touches,c.targetTouches,c.changedTouches,c.scale,c.rotation)}return a},createTouch:function(c,a,b){if(!document.createTouch||b){return{pageX:a.pageX,pageY:a.pageY,clientX:a.pageX,clientY:a.pageY,screenX:a.pageX,screenY:a.pageY,identifier:+a.identifier||0}}return document.createTouch(document.defaultView,c,+a.identifier||0,+a.pageX||0,+a.pageY||0,+a.screenX||0,+a.screenY||0)},createTouchList:function(c,e,b){var f,d=[];if(Ext.isObject(c)&&typeof c.target!="undefined"){c=[c]}if(c){for(var a=0;a<c.length;a++){if(!b&&!c[a].target){c[a].target=e}f=this.createTouch(c[a].target,c[a],b);d.push(f)}}if(!document.createTouchList||b){return d}return document.createTouchList.apply(document,d)},fireMouseEvent:function(b,e,a){var d=this.createMouseEventData(b,e,a);var c=this.createMouseEvent(b,d);c.isSimulated=true;c.originalTimeStamp=d.timeStamp;return e.dispatchEvent(c)},createMouseEventData:function(c,g,a,b){var f={type:c,timeStamp:Date.now(),bubbles:true,cancelable:(c!="mousemove"),detail:1,screenX:0,screenY:0,pageX:0,pageY:0,clientX:0,clientY:0,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:null},e=["screen","client","page"],d={x:0,y:0};if(!b){f.target=g;f.view=window}if(a){Ext.iterate(f,function(h,i){if(a.hasOwnProperty(h)){f[h]=a[h]}})}e.forEach(function(h){if(f[h+"X"]!=0){d.x=f[h+"X"]}if(f[h+"Y"]!=0){d.y=f[h+"Y"]}});e.forEach(function(h){if(f[h+"X"]==0&&d.x!=0){f[h+"X"]=d.x}if(f[h+"Y"]==0&&d.y!=0){f[h+"Y"]=d.y}});return f},createMouseEvent:function(a,b){var c=document.createEvent("MouseEvents");c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);return c}});Ext.gesture.Manager=new Ext.AbstractManager({eventNames:{start:"touchstart",move:"touchmove",end:"touchend"},defaultPreventedMouseEvents:["click"],clickMoveThreshold:5,init:function(){this.targets=[];this.followTouches=[];this.currentGestures=[];this.currentTargets=[];if(!Ext.supports.Touch){Ext.apply(this.eventNames,{start:"mousedown",move:"mousemove",end:"mouseup"})}this.listenerWrappers={start:Ext.createDelegate(this.onTouchStart,this),move:Ext.createDelegate(this.onTouchMove,this),end:Ext.createDelegate(this.onTouchEnd,this),mouse:Ext.createDelegate(this.onMouseEvent,this)};this.attachListeners()},freeze:function(){this.isFrozen=true},thaw:function(){this.isFrozen=false},getEventSimulator:function(){if(!this.eventSimulator){this.eventSimulator=new Ext.util.EventSimulator()}return this.eventSimulator},attachListeners:function(){Ext.iterate(this.eventNames,function(b,a){document.addEventListener(a,this.listenerWrappers[b],false)},this);if(Ext.supports.Touch){this.defaultPreventedMouseEvents.forEach(function(a){document.addEventListener(a,this.listenerWrappers.mouse,true)},this)}},detachListeners:function(){Ext.iterate(this.eventNames,function(b,a){document.removeEventListener(a,this.listenerWrappers[b],false)},this);if(Ext.supports.Touch){this.defaultPreventedMouseEvents.forEach(function(a){document.removeEventListener(a,this.listenerWrappers.mouse,true)},this)}},onMouseEvent:function(a){if(!a.isSimulated){a.preventDefault();a.stopPropagation()}},onTouchStart:function(c){var a=[],b=c.target;if(c.stopped===true){return}if(Ext.is.Android){if(!(b.tagName&&["input","textarea","select"].indexOf(b.tagName.toLowerCase())!==-1)){c.preventDefault()}}if(this.isFrozen){return}if(this.startEvent){this.onTouchEnd(c)}this.locks={};this.currentTargets=[b];while(b){if(this.targets.indexOf(b)!==-1){a.unshift(b)}b=b.parentNode;this.currentTargets.push(b)}this.startEvent=c;this.startPoint=Ext.util.Point.fromEvent(c);this.lastMovePoint=null;this.isClick=true;this.handleTargets(a,c)},onTouchMove:function(c){if(!Ext.is.Android){c.preventDefault()}if(!this.startEvent){return}if(Ext.is.Desktop){c.target=this.startEvent.target}if(this.isFrozen){return}var d=this.currentGestures,b,f=c.changedTouches?c.changedTouches[0]:c;this.lastMovePoint=Ext.util.Point.fromEvent(c);if(Ext.supports.Touch&&this.isClick&&!this.lastMovePoint.isWithin(this.startPoint,this.clickMoveThreshold)){this.isClick=false}for(var a=0;a<d.length;a++){if(c.stopped){break}b=d[a];if(b.listenForMove){b.onTouchMove(c,f)}}},onTouchEnd:function(g){if(Ext.is.Blackberry){g.preventDefault()}if(this.isFrozen){return}var h=this.currentGestures.slice(0),d=h.length,c,b,a,f=false,j=g.changedTouches?g.changedTouches[0]:g;if(this.startPoint){a=Ext.util.Point.fromEvent(g);if(!(this.lastMovePoint||this.startPoint)["equals"](a)){f=true}}for(c=0;c<d;c++){b=h[c];if(!g.stopped&&b.listenForEnd){if(f){b.onTouchMove(g,j)}b.onTouchEnd(g,j)}this.stopGesture(b)}if(Ext.supports.Touch&&this.isClick){this.isClick=false;this.getEventSimulator().fire("click",this.startEvent.target,j)}this.lastMovePoint=null;this.followTouches=[];this.startedChangedTouch=false;this.currentTargets=[];this.startEvent=null;this.startPoint=null},handleTargets:function(a,d){var c=a.length,b;this.startedChangedTouch=false;this.startedTouches=Ext.supports.Touch?d.touches:[d];for(b=0;b<c;b++){if(d.stopped){break}this.handleTarget(a[b],d,true)}for(b=c-1;b>=0;b--){if(d.stopped){break}this.handleTarget(a[b],d,false)}if(this.startedChangedTouch){this.followTouches=this.followTouches.concat((Ext.supports.Touch&&d.targetTouches)?Ext.toArray(d.targetTouches):[d])}},handleTarget:function(g,f,a){var h=Ext.Element.data(g,"x-gestures")||[],d=h.length,c,b;for(c=0;c<d;c++){b=h[c];if((!!b.capture===!!a)&&(this.followTouches.length<b.touches)&&((Ext.supports.Touch&&f.targetTouches)?(f.targetTouches.length===b.touches):true)){this.startedChangedTouch=true;this.startGesture(b);if(b.listenForStart){b.onTouchStart(f,f.changedTouches?f.changedTouches[0]:f)}if(f.stopped){break}}}},startGesture:function(a){a.started=true;this.currentGestures.push(a)},stopGesture:function(a){a.started=false;this.currentGestures.remove(a)},addEventListener:function(g,b,f,d){g=Ext.getDom(g);d=d||{};var a=this.targets,c=this.getGestureName(b),h=Ext.Element.data(g,"x-gestures"),e;if(!h){h=[];Ext.Element.data(g,"x-gestures",h)}if(!c){throw new Error("Trying to subscribe to unknown event "+b)}if(a.indexOf(g)===-1){this.targets.push(g)}e=this.get(g.id+"-"+c);if(!e){e=this.create(Ext.apply({},d,{target:g,type:c}));h.push(e)}e.addListener(b,f);if(this.startedChangedTouch&&this.currentTargets.contains(g)&&!e.started&&!d.subsequent){this.startGesture(e);if(e.listenForStart){e.onTouchStart(this.startEvent,this.startedTouches[0])}}},removeEventListener:function(e,a,d){e=Ext.getDom(e);var b=this.getGestureName(a),f=Ext.Element.data(e,"x-gestures")||[],c;c=this.get(e.id+"-"+b);if(c){c.removeListener(a,d);for(b in c.listeners){return}c.destroy();f.remove(c);Ext.Element.data(e,"x-gestures",f)}},getGestureName:function(a){return this.names&&this.names[a]},registerType:function(d,a){var c=a.prototype.handles,b,e;this.types[d]=a;a[this.typeName]=d;if(!c){c=a.prototype.handles=[d]}this.names=this.names||{};for(b=0,e=c.length;b<e;b++){this.names[c[b]]=d}}});Ext.regGesture=function(){return Ext.gesture.Manager.registerType.apply(Ext.gesture.Manager,arguments)};Ext.TouchEventObjectImpl=Ext.extend(Object,{constructor:function(b,a){if(b){this.setEvent(b,a)}},setEvent:function(b,a){Ext.apply(this,{event:b,time:b.timeStamp});this.touches=b.touches||[b];this.changedTouches=b.changedTouches||[b];this.targetTouches=b.targetTouches||[b];if(a){this.target=a.target;Ext.apply(this,a)}else{this.target=b.target}return this},stopEvent:function(){this.stopPropagation();this.preventDefault()},stopPropagation:function(){this.event.stopped=true},preventDefault:function(){this.event.preventDefault()},getTarget:function(b,c,a){if(b){return Ext.fly(this.target).findParent(b,c,a)}else{return a?Ext.get(this.target):this.target}}});Ext.TouchEventObject=new Ext.TouchEventObjectImpl();Ext.gesture.Gesture=Ext.extend(Object,{listenForStart:true,listenForEnd:true,listenForMove:true,disableLocking:false,touches:1,constructor:function(a){a=a||{};Ext.apply(this,a);this.target=Ext.getDom(this.target);this.listeners={};if(!this.target){throw new Error("Trying to bind a "+this.type+" event to element that does'nt exist: "+this.target)}this.id=this.target.id+"-"+this.type;Ext.gesture.Gesture.superclass.constructor.call(this);Ext.gesture.Manager.register(this)},addListener:function(a,b){this.listeners[a]=this.listeners[a]||[];this.listeners[a].push(b)},removeListener:function(a,c){var b=this.listeners[a];if(b){b.remove(c);if(b.length==0){delete this.listeners[a]}for(a in this.listeners){if(this.listeners.hasOwnProperty(a)){return}}this.listeners={}}},fire:function(d,g,a){var c=this.listeners&&this.listeners[d],f=c&&c.length,b;if(!this.disableLocking&&this.isLocked(d)){return false}if(f){a=Ext.apply(a||{},{time:g.timeStamp,type:d,gesture:this,target:(g.target.nodeType==3)?g.target.parentNode:g.target});for(b=0;b<f;b++){c[b](g,a)}}return true},stop:function(){Ext.gesture.Manager.stopGesture(this)},lock:function(){if(!this.disableLocking){var a=arguments,c=a.length,b;for(b=0;b<c;b++){Ext.gesture.Manager.locks[a[b]]=this.id}}},unlock:function(){if(!this.disableLocking){var a=arguments,c=a.length,b;for(b=0;b<c;b++){if(Ext.gesture.Manager.locks[a[b]]==this.id){delete Ext.gesture.Manager.locks[a[b]]}}}},isLocked:function(b){var a=Ext.gesture.Manager.locks[b];return !!(a&&a!==this.id)},getLockingGesture:function(b){var a=Ext.gesture.Manager.locks[b];if(a){return Ext.gesture.Manager.get(a)||null}return null},onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,destroy:function(){this.stop();this.listeners=null;Ext.gesture.Manager.unregister(this)}});Ext.gesture.Touch=Ext.extend(Ext.gesture.Gesture,{handles:["touchstart","touchmove","touchend","touchdown"],touchDownInterval:500,onTouchStart:function(a,b){this.startX=this.previousX=b.pageX;this.startY=this.previousY=b.pageY;this.startTime=this.previousTime=a.timeStamp;this.fire("touchstart",a);this.lastEvent=a;if(this.listeners&&this.listeners.touchdown){this.touchDownIntervalId=setInterval(Ext.createDelegate(this.touchDownHandler,this),this.touchDownInterval)}},onTouchMove:function(a,b){this.fire("touchmove",a,this.getInfo(b));this.lastEvent=a},onTouchEnd:function(a){this.fire("touchend",a,this.lastInfo);clearInterval(this.touchDownIntervalId)},touchDownHandler:function(){this.fire("touchdown",this.lastEvent,this.lastInfo)},getInfo:function(e){var d=Date.now(),b=e.pageX-this.startX,a=e.pageY-this.startY,c={startX:this.startX,startY:this.startY,previousX:this.previousX,previousY:this.previousY,pageX:e.pageX,pageY:e.pageY,deltaX:b,deltaY:a,absDeltaX:Math.abs(b),absDeltaY:Math.abs(a),previousDeltaX:e.pageX-this.previousX,previousDeltaY:e.pageY-this.previousY,time:d,startTime:this.startTime,previousTime:this.previousTime,deltaTime:d-this.startTime,previousDeltaTime:d-this.previousTime};this.previousTime=c.time;this.previousX=c.pageX;this.previousY=c.pageY;this.lastInfo=c;return c}});Ext.regGesture("touch",Ext.gesture.Touch);Ext.gesture.Tap=Ext.extend(Ext.gesture.Gesture,{handles:["tapstart","tapcancel","tap","doubletap","taphold","singletap"],cancelThreshold:10,doubleTapThreshold:800,singleTapThreshold:400,holdThreshold:1000,fireClickEvent:false,onTouchStart:function(b,c){var a=this;a.startX=c.pageX;a.startY=c.pageY;a.fire("tapstart",b,a.getInfo(c));if(this.listeners.taphold){a.timeout=setTimeout(function(){a.fire("taphold",b,a.getInfo(c));delete a.timeout},a.holdThreshold)}a.lastTouch=c},onTouchMove:function(b,c){var a=this;if(a.isCancel(c)){a.fire("tapcancel",b,a.getInfo(c));if(a.timeout){clearTimeout(a.timeout);delete a.timeout}a.stop()}a.lastTouch=c},onTouchEnd:function(c){var a=this,b=a.getInfo(a.lastTouch);this.fireTapEvent(c,b);if(a.lastTapTime&&c.timeStamp-a.lastTapTime<=a.doubleTapThreshold){a.lastTapTime=null;c.preventDefault();a.fire("doubletap",c,b)}else{a.lastTapTime=c.timeStamp}if(a.listeners&&a.listeners.singletap&&a.singleTapThreshold&&!a.preventSingleTap){a.fire("singletap",c,b);a.preventSingleTap=true;setTimeout(function(){a.preventSingleTap=false},a.singleTapThreshold)}if(a.timeout){clearTimeout(a.timeout);delete a.timeout}},fireTapEvent:function(d,c){this.fire("tap",d,c);if(d.event){d=d.event}var b=(d.changedTouches?d.changedTouches[0]:d).target;if(!b.disabled&&this.fireClickEvent){var a=document.createEvent("MouseEvent");a.initMouseEvent("click",d.bubbles,d.cancelable,document.defaultView,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.metaKey,d.button,d.relatedTarget);a.isSimulated=true;b.dispatchEvent(a)}},getInfo:function(c){var a=c.pageX,b=c.pageY;return{pageX:a,pageY:b,startX:a,startY:b}},isCancel:function(b){var a=this;return(Math.abs(b.pageX-a.startX)>=a.cancelThreshold||Math.abs(b.pageY-a.startY)>=a.cancelThreshold)}});Ext.regGesture("tap",Ext.gesture.Tap);Ext.gesture.Swipe=Ext.extend(Ext.gesture.Gesture,{listenForEnd:false,swipeThreshold:35,swipeTime:1000,onTouchStart:function(a,b){this.startTime=a.timeStamp;this.startX=b.pageX;this.startY=b.pageY;this.lock("scroll","scrollstart","scrollend")},onTouchMove:function(g,h){var b=h.pageY-this.startY,d=h.pageX-this.startX,a=Math.abs(b),c=Math.abs(d),f=g.timeStamp-this.startTime;if(a-c>3||f>this.swipeTime){this.unlock("drag","dragstart","dragend");this.stop()}else{if(c>this.swipeThreshold&&c>a){this.fire("swipe",g,{direction:(d<0)?"left":"right",distance:c,deltaTime:f,deltaX:d});this.stop()}}}});Ext.regGesture("swipe",Ext.gesture.Swipe);Ext.gesture.Drag=Ext.extend(Ext.gesture.Touch,{handles:["dragstart","drag","dragend"],dragThreshold:5,direction:"both",horizontal:false,vertical:false,constructor:function(){Ext.gesture.Drag.superclass.constructor.apply(this,arguments);if(this.direction=="both"){this.horizontal=true;this.vertical=true}else{if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}}return this},onTouchStart:function(a,b){this.startX=this.previousX=b.pageX;this.startY=this.previousY=b.pageY;this.startTime=this.previousTime=a.timeStamp;this.dragging=false},onTouchMove:function(b,c){if(this.isLocked("drag")){return}var a=this.getInfo(c);if(!this.dragging){if(this.isDragging(a)&&this.fire("dragstart",b,a)){this.dragging=true;this.lock("drag","dragstart","dragend");this.fire("drag",b,a)}}else{this.fire("drag",b,a)}},onTouchEnd:function(a){if(this.dragging){this.fire("dragend",a,this.lastInfo)}this.dragging=false},isDragging:function(a){return((this.horizontal&&a.absDeltaX>=this.dragThreshold)||(this.vertical&&a.absDeltaY>=this.dragThreshold))},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}});Ext.regGesture("drag",Ext.gesture.Drag);Ext.lib.Component=Ext.extend(Ext.util.Observable,{isComponent:true,renderTpl:null,tplWriteMode:"overwrite",baseCls:"x-component",disabledCls:"x-item-disabled",hidden:false,disabled:false,draggable:false,floating:false,styleHtmlContent:false,styleHtmlCls:"x-html",allowDomMove:true,autoShow:false,autoRender:false,needsLayout:false,rendered:false,constructor:function(b){b=b||{};this.initialConfig=b;Ext.apply(this,b);this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","resize","move","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();this.mons=[];this.additionalCls=[];this.renderData=this.renderData||{};this.renderSelectors=this.renderSelectors||{};this.initComponent();Ext.ComponentMgr.register(this);Ext.lib.Component.superclass.constructor.call(this);if(this.plugins){this.plugins=[].concat(this.plugins);for(var c=0,a=this.plugins.length;c<a;c++){this.plugins[c]=this.initPlugin(this.plugins[c])}}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}if(Ext.isDefined(this.disabledClass)){throw"Component: disabledClass has been deprecated. Please use disabledCls."}},initComponent:Ext.emptyFn,applyToMarkup:Ext.emptyFn,show:Ext.emptyFn,onShow:function(){var a=this.needsLayout;if(Ext.isObject(a)){this.doComponentLayout(a.width,a.height,a.isSetSize)}},initPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a=Ext.PluginMgr.create(a)}else{if(typeof a=="string"){a=Ext.PluginMgr.create({ptype:a})}}a.init(this);return a},render:function(b,a){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(this.el){this.el=Ext.get(this.el)}b=this.initContainer(b);this.onRender(b,a);this.fireEvent("render",this);this.initContent();this.afterRender(b);this.fireEvent("afterrender",this);this.initEvents();if(this.autoShow){this.show()}if(this.hidden){this.onHide(false)}if(this.disabled){this.disable(true)}}return this},onRender:function(b,a){var c=this.el,e,d;a=this.getInsertPosition(a);if(!c){if(a){c=Ext.DomHelper.insertBefore(a,this.getElConfig(),true)}else{c=Ext.DomHelper.append(b,this.getElConfig(),true)}}else{if(this.allowDomMove!==false){b.dom.insertBefore(c.dom,a)}}c.addCls(this.initCls());c.setStyle(this.initStyles());e=this.initRenderTpl();if(e){d=this.initRenderData();e.append(c,d)}this.el=c;this.applyRenderSelectors();this.rendered=true},initCls:function(){var a=[this.baseCls];if(this.componentCls){a.push(this.componentCls)}else{this.componentCls=this.baseCls}if(this.cls){a.push(this.cls);delete this.cls}if(this.ui){a.push(this.componentCls+"-"+this.ui)}return a.concat(this.additionalCls)},afterRender:function(){this.getComponentLayout();if(this.x||this.y){this.setPosition(this.x,this.y)}if(this.styleHtmlContent){this.getTargetEl().addCls(this.styleHtmlCls)}if(!this.ownerCt){this.setSize(this.width,this.height)}},getElConfig:function(){return{tag:"div",id:this.id}},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},initContainer:function(a){if(!a&&this.el){a=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(a);if(this.ctCls){this.container.addCls(this.ctCls)}return this.container},initRenderData:function(){return Ext.applyIf(this.renderData,{baseCls:this.baseCls,componentCls:this.componentCls})},initRenderTpl:function(){var a=this.renderTpl;if(a){if(this.proto.renderTpl!==a){if(Ext.isArray(a)||typeof a==="string"){a=new Ext.XTemplate(a)}}else{if(Ext.isArray(this.proto.renderTpl)){a=this.proto.renderTpl=new Ext.XTemplate(a)}}}return a},initStyles:function(){var d={},a=Ext.Element,c,e,b,f;if(Ext.isString(this.style)){b=this.style.split(";");for(c=0,e=b.length;c<e;c++){if(!Ext.isEmpty(b[c])){f=b[c].split(":");d[Ext.util.Format.trim(f[0])]=Ext.util.Format.trim(f[1])}}}else{d=Ext.apply({},this.style)}if(this.padding!=undefined){d.padding=a.unitizeBox((this.padding===true)?5:this.padding)}if(this.margin!=undefined){d.margin=a.unitizeBox((this.margin===true)?5:this.margin)}if(this.border!=undefined){d.borderWidth=a.unitizeBox((this.border===true)?1:this.border)}delete this.style;return d},initContent:function(){var b=this.getTargetEl();if(this.html){b.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var a=Ext.get(this.contentEl);a.show();b.appendChild(a.dom)}if(this.tpl){if(!this.tpl.isTemplate){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](b,this.data);delete this.data}}},initEvents:function(){var c=this.afterRenderEvents,b,a;if(c){for(b in c){if(!c.hasOwnProperty(b)){continue}a=c[b];if(this[b]&&this[b].on){this.mon(this[b],a)}}}},applyRenderSelectors:function(){var b=this.renderSelectors||{},c=this.el.dom,a;for(a in b){if(!b.hasOwnProperty(a)){continue}this[a]=Ext.get(Ext.DomQuery.selectNode(b[a],c))}},is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(b){var a=this.ownerCt;if(b){for(;a;a=a.ownerCt){if(Ext.ComponentQuery.is(a,b)){return a}}}return a},nextSibling:function(b){var f=this.ownerCt,d,e,a,g;if(f){d=f.items;a=d.indexOf(this)+1;if(a){if(b){for(e=d.getCount();a<e;a++){if((g=d.getAt(a)).is(b)){return g}}}else{if(a<d.getCount()){return d.getAt(a)}}}}return null},previousSibling:function(b){var e=this.ownerCt,d,a,f;if(e){d=e.items;a=d.indexOf(this);if(a!=-1){if(b){for(--a;a>=0;a--){if((f=d.getAt(a)).is(b)){return f}}}else{if(a){return d.getAt(--a)}}}}return null},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.lib.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.el},isXType:function(b,a){if(Ext.isFunction(b)){b=b.xtype}else{if(Ext.isObject(b)){b=b.constructor.xtype}}return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.constructor.xtype==b},getXTypes:function(){var a=this.constructor,b=[],d=this,c;if(!a.xtypes){while(d){c=d.constructor.xtype;if(c!=undefined){b.unshift(c)}d=d.constructor.superclass}a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},update:function(b,c,a){if(this.tpl&&!Ext.isString(b)){this.data=b;if(this.rendered){this.tpl[this.tplWriteMode](this.getTargetEl(),b||{})}}else{this.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b;if(this.rendered){this.getTargetEl().update(this.html,c,a)}}if(this.rendered){this.doComponentLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){var b=!this.hidden,a=this.ownerCt;this.hiddenOwnerCt=false;if(this.destroyed){return false}if(b&&this.rendered&&a){while(a){if(a.hidden||a.collapsed){this.hiddenOwnerCt=a;b=false;break}a=a.ownerCt}}return b},enable:function(a){if(this.rendered){this.el.removeCls(this.disabledCls);this.el.dom.disabled=false;this.onEnable()}this.disabled=false;if(a!==true){this.fireEvent("enable",this)}return this},disable:function(a){if(this.rendered){this.el.addCls(this.disabledCls);this.el.dom.disabled=true;this.onDisable()}this.disabled=true;if(a!==true){this.fireEvent("disable",this)}return this},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var b=this,a=Ext.toArray(arguments);if(b.rendered){b.el.addCls(a)}else{b.additionalCls=b.additionalCls.concat(a)}return b},addClass:function(){throw"Component: addClass has been deprecated. Please use addCls."},removeCls:function(){var b=this,a=Ext.toArray(arguments);if(b.rendered){b.el.removeCls(a)}else{if(b.additionalCls.length){Ext.each(a,function(c){b.additionalCls.remove(c)})}}return b},removeClass:function(){throw"Component: removeClass has been deprecated. Please use removeCls."},addListener:function(b,f,e,a){if(Ext.isString(b)&&(Ext.isObject(f)||a&&a.element)){if(a.element){var d=f,c;f={};f[b]=d;b=a.element;if(e){f.scope=e}for(c in a){if(!a.hasOwnProperty(c)){continue}if(this.eventOptionsRe.test(c)){f[c]=a[c]}}}if(this[b]&&this[b].on){this.mon(this[b],f)}else{this.afterRenderEvents=this.afterRenderEvents||{};this.afterRenderEvents[b]=f}}return Ext.lib.Component.superclass.addListener.apply(this,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(a,b){this.ownerCt=a;this.fireEvent("added",this,a,b)},onRemoved:function(){this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},onEnable:Ext.emptyFn,onDisable:Ext.emptyFn,beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(b,a){if(Ext.isObject(b)){a=b.height;b=b.width}if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var c=this.hiddenOwnerCt.layoutOnShow;c.remove(this);c.add(this)}this.needsLayout={width:b,height:a,isSetSize:true};if(!this.rendered){this.width=(b!==undefined)?b:this.width;this.height=(a!==undefined)?a:this.height}return this}this.doComponentLayout(b,a,true);return this},setCalculatedSize:function(b,a){if(Ext.isObject(b)){a=b.height;b=b.width}if(!this.rendered||!this.isVisible()){if(this.hiddenOwnerCt){var c=this.hiddenOwnerCt.layoutOnShow;c.remove(this);c.add(this)}this.needsLayout={width:b,height:a,isSetSize:false};return this}this.doComponentLayout(b,a);return this},doComponentLayout:function(d,a,b){var c=this.getComponentLayout();if(this.rendered&&c){d=(d!==undefined||this.collapsed===true)?d:this.width;a=(a!==undefined||this.collapsed===true)?a:this.height;if(b){this.width=d;this.height=a}c.layout(d,a)}return this},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){if(!this.componentLayout||!this.componentLayout.isLayout){this.setComponentLayout(Ext.layout.LayoutManager.create(this.componentLayout,"autocomponent"))}return this.componentLayout},afterComponentLayout:Ext.emptyFn,setPosition:function(a,b){if(Ext.isObject(a)){b=a.y;a=a.x}if(!this.rendered){return this}if(a!==undefined||b!==undefined){this.el.setBox(a,b);this.onPosition(a,b);this.fireEvent("move",this,a,b)}return this},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},setLoading:function(a,b){if(this.rendered){if(a){this.loadMask=this.loadMask||new Ext.LoadMask(b?this.getTargetEl():this.el,Ext.applyIf(Ext.isObject(a)?a:{}));this.loadMask.show()}else{Ext.destroy(this.loadMask);this.loadMask=null}}return this.loadMask},setDocked:function(a,b){this.dock=a;if(b&&this.ownerCt&&this.rendered){this.ownerCt.doComponentLayout()}return this},onDestroy:function(){if(this.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(this.setSize,this)}Ext.destroy(this.componentLayout,this.loadMask)},destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.clearListeners();this.destroying=false;this.isDestroyed=true}}}});Ext.lib.Component.prototype.on=Ext.lib.Component.prototype.addListener;Ext.lib.Component.prototype.prev=Ext.lib.Component.prototype.previousSibling;Ext.lib.Component.prototype.next=Ext.lib.Component.prototype.nextSibling;Ext.lib.Component.AUTO_ID=1000;Ext.Component=Ext.extend(Ext.lib.Component,{});Ext.reg("component",Ext.Component);Ext.Component=Ext.extend(Ext.lib.Component,{showAnimation:null,monitorOrientation:false,floatingCls:"x-floating",hideOnMaskTap:true,stopMaskTapEvent:true,centered:false,modal:false,fullscreen:false,layoutOnOrientationChange:null,initComponent:function(){this.addEvents("beforeorientationchange","orientationchange");if(this.fullscreen||this.floating){this.monitorOrientation=true;this.autoRender=true}if(this.fullscreen){var a=Ext.Viewport.getSize();this.width=a.width;this.height=a.height;this.cls=(this.cls||"")+" x-fullscreen";this.renderTo=document.body}},onRender:function(){Ext.Component.superclass.onRender.apply(this,arguments);if(this.monitorOrientation){this.el.addCls("x-"+Ext.Viewport.orientation)}if(this.floating){this.setFloating(true)}if(this.draggable){this.setDraggable(this.draggable)}if(this.scroll){this.setScrollable(this.scroll)}},afterRender:function(){if(this.fullscreen){this.layoutOrientation(Ext.Viewport.orientation,this.width,this.height)}Ext.Component.superclass.afterRender.call(this)},initEvents:function(){Ext.Component.superclass.initEvents.call(this);if(this.monitorOrientation){Ext.EventManager.onOrientationChange(this.setOrientation,this)}},afterComponentLayout:function(){var c=this.scrollEl,a=this.scroller,b;if(c){b=c.parent();if(a.horizontal){c.setStyle("min-width",b.getWidth(true)+"px");c.setHeight(b.getHeight(true)||null)}if(a.vertical){c.setStyle("min-height",b.getHeight(true)+"px");c.setWidth(b.getWidth(true)||null)}a.updateBoundary(true)}if(this.fullscreen&&Ext.is.iPad){Ext.repaint()}},layoutOrientation:Ext.emptyFn,update:function(){Ext.Component.superclass.update.apply(this,arguments);var a=this.scroller;if(a&&a.updateBoundary){a.updateBoundary(true)}},show:function(a){var b=this.rendered;if((this.hidden||!b)&&this.fireEvent("beforeshow",this)!==false){if(this.anchorEl){this.anchorEl.hide()}if(!b&&this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}this.hidden=false;if(this.rendered){this.onShow(a);this.fireEvent("show",this)}}return this},showBy:function(b,c,d,a){if(!this.floating){return this}if(b.isComponent){b=b.el}else{b=Ext.get(b)}this.x=0;this.y=0;this.show(c);if(a!==false){if(!this.anchorEl){this.anchorEl=this.el.createChild({cls:"x-anchor"})}this.anchorEl.show()}this.alignTo(b,d,20)},alignTo:function(f,e,g){var b=f.getPageBox(),q={width:window.innerWidth,height:window.innerHeight},l=this.getSize(),a={width:Math.min(l.width,q.width),height:Math.min(l.height,q.height)},r,j=2,d=["tl-bl","t-b","tr-br","l-r","l-r","r-l","bl-tl","b-t","br-tr"],p=this.anchorEl,h=[0,g],i,c,k=false,n=[0,0],o=b.left+(b.width/2),m=b.top+(b.height/2);if(o<=q.width*(1/3)){j=1;n[0]=25}else{if(o>=q.width*(2/3)){j=3;n[0]=-30}}if(m>=q.height*(2/3)){j+=6;h=[0,-g];n[1]=-10}else{if(e!==false&&m>=q.height*(1/3)){j+=3;h=(j<=5)?[g,0]:[-g,0];n=(j<=5)?[10,0]:[-10,0];k=true}else{n[1]=10}}r=d[j-1];i=this.el.getAlignToXY(f,r,h);if(k){if(i[0]<0){a.width=b.left-g}else{if(i[0]+a.width>q.width){a.width=q.width-b.right-g}}}else{if(i[1]<0){a.height=b.top-g}else{if(i[1]+a.height>q.height){a.height=q.height-b.bottom-g}}}if(a.width!=l.width){this.setSize(a.width)}else{if(a.height!=l.height){this.setSize(undefined,a.height)}}i=this.el.getAlignToXY(f,r,h);this.setPosition(i[0],i[1]);if(p){p.removeCls(["x-anchor-bottom","x-anchor-left","x-anchor-right","x-anchor-top"]);if(h[1]==g){c="x-anchor-top"}else{if(h[1]==-g){c="x-anchor-bottom"}else{if(h[0]==g){c="x-anchor-left"}else{c="x-anchor-right"}}}i=p.getAlignToXY(f,r,n);p.setXY(i);p.addCls(c)}return r},setCentered:function(b,d){this.centered=b;if(this.rendered&&d){var a,c;if(!this.ownerCt){a=(Ext.Element.getViewportWidth()/2)-(this.getWidth()/2);c=(Ext.Element.getViewportHeight()/2)-(this.getHeight()/2)}else{a=(this.ownerCt.getTargetEl().getWidth()/2)-(this.getWidth()/2);c=(this.ownerCt.getTargetEl().getHeight()/2)-(this.getHeight()/2)}this.setPosition(a,c)}return this},hide:function(a){if(!this.hidden&&this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide(a,true)}}return this},onShow:function(a){this.el.show();Ext.Component.superclass.onShow.call(this,a);if(a===undefined||a===true){a=this.showAnimation}if(this.floating){this.el.dom.parentNode||this.el.appendTo(document.body);if(a){this.el.setStyle("opacity",0.01)}if(this.centered){this.setCentered(true,true)}else{this.setPosition(this.x,this.y)}if(this.modal){this.el.parent().mask(null,"x-mask-gray")}if(this.hideOnMaskTap){Ext.getDoc().on("touchstart",this.onFloatingTouchStart,this,{capture:true,subsequent:true})}}if(a){Ext.Anim.run(this,a,{out:false,autoClear:true});this.showAnimation=a}},onFloatingTouchStart:function(a){if(!this.el.contains(a.target)){this.hide();if(this.stopMaskTapEvent||Ext.fly(a.target).hasCls("x-mask")){a.stopEvent()}}},onHide:function(b,a){if(b===undefined||b===true){b=this.showAnimation}if(this.hideOnMaskTap&&this.floating){Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this,{capture:true,subsequent:true})}if(b){Ext.Anim.run(this,b,{out:true,reverse:true,autoClear:true,scope:this,fireHideEvent:a,after:this.doHide})}else{this.doHide(null,{fireHideEvent:a})}},doHide:function(c,a){var b=this.el.parent();this.el.hide();if(b&&this.floating&&this.modal){b.unmask()}if(a&&a.fireHideEvent){this.fireEvent("hide",this)}},setScrollable:function(a){var b=this,c;if(!b.rendered){b.scroll=a;return}Ext.destroy(b.scroller);b.scroller=null;if(b.originalGetTargetEl){b.getTargetEl=b.originalGetTargetEl}if(a!==false){c=Ext.isObject(a)?a.direction:a;a=Ext.apply({},Ext.isObject(a)?a:{},{direction:c});if(!b.scrollEl){b.scrollEl=b.getTargetEl().createChild()}b.originalGetTargetEl=b.getTargetEl;b.getTargetEl=function(){return b.scrollEl};b.scroller=(new Ext.util.ScrollView(b.scrollEl,a)).scroller}},setFloating:function(b,a){this.floating=!!b;this.hidden=true;if(this.rendered){if(b!==false){this.el.addCls(this.floatingCls);if(a){this.show()}}else{this.el.removeCls(this.floatingCls);Ext.getDoc().un("touchstart",this.onFloatingTouchStart,this)}}else{if(b!==false){if(this.layoutOnOrientationChange!==false){this.layoutOnOrientationChange=true}this.autoRender=true}}},setDraggable:function(a,b){this.isDraggable=a;if(this.rendered){if(a===false){if(this.dragObj){this.dragObj.disable()}}else{if(b){this.show()}if(this.dragObj){this.dragObj.enable()}else{this.dragObj=new Ext.util.Draggable(this.el,Ext.apply({},this.draggable||{}));this.relayEvents(this.dragObj,["dragstart","beforedragend","drag","dragend"])}}}},setOrientation:function(b,a,c){if(this.fireEvent("beforeorientationchange",this,b,a,c)!==false){if(this.orientation!=b){this.el.removeCls("x-"+this.orientation);this.el.addCls("x-"+b)}this.orientation=b;this.layoutOrientation(b,a,c);if(this.fullscreen){this.setSize(a,c)}else{if(this.layoutOnOrientationChange){this.doComponentLayout()}}if(this.floating&&this.centered){this.setCentered(true,true)}this.onOrientationChange(b,a,c);this.fireEvent("orientationchange",this,b,a,c)}},onOrientationChange:Ext.emptyFn,beforeDestroy:function(){if(this.floating&&this.modal&&!this.hidden){this.el.parent().unmask()}Ext.destroy(this.scroller);Ext.Component.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.monitorOrientation&&Ext.EventManager.orientationEvent){Ext.EventManager.orientationEvent.removeListener(this.setOrientation,this)}Ext.Component.superclass.onDestroy.call(this)}});Ext.BoxComponent=Ext.Component;Ext.reg("component",Ext.Component);Ext.reg("box",Ext.BoxComponent);Ext.lib.Container=Ext.extend(Ext.Component,{autoDestroy:true,defaultType:"panel",isContainer:true,baseCls:"x-container",bubbleEvents:["add","remove"],initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove","beforecardswitch","cardswitch");this.layoutOnShow=new Ext.util.MixedCollection();Ext.lib.Container.superclass.initComponent.call(this);this.initItems()},initItems:function(){var a=this.items;this.items=new Ext.util.MixedCollection(false,this.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}this.add(a)}},afterRender:function(){this.getLayout();Ext.lib.Container.superclass.afterRender.apply(this,arguments)},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.layout=b;b.setOwner(this)},getLayout:function(){if(!this.layout||!this.layout.isLayout){this.setLayout(Ext.layout.LayoutManager.create(this.layout,"autocontainer"))}return this.layout},doLayout:function(){var a=this.getLayout();if(this.rendered&&a){a.layout()}return this},afterLayout:function(a){this.fireEvent("afterlayout",this,a)},prepareItems:function(a,c){if(!Ext.isArray(a)){a=[a]}var e,b,d;for(b=0,d=a.length;b<d;b++){e=a[b];if(c){e=this.applyDefaults(e)}a[b]=this.lookupComponent(e)}return a},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentMgr.get(a);Ext.apply(a,b)}else{if(!a.isComponent){Ext.applyIf(a,b)}else{Ext.apply(a,b)}}}return a},lookupComponent:function(a){if(Ext.isString(a)){return Ext.ComponentMgr.get(a)}else{return this.createComponent(a)}return a},createComponent:function(a,b){if(a.isComponent){return a}return Ext.create(a,b||this.defaultType)},getComponentId:function(a){return a.getItemId()},add:function(){var f=Array.prototype.slice.call(arguments),d=-1;if(typeof f[0]=="number"){d=f.shift()}var a=f.length>1;if(a||Ext.isArray(f[0])){var g=a?f:f[0],b=[],c,e,j;for(c=0,e=g.length;c<e;c++){j=g[c];if(!j){throw"Trying to add a null item as a child of Container with itemId/id: "+this.getItemId()}if(d!=-1){j=this.add(d+c,j)}else{j=this.add(j)}b.push(j)}return b}var h=this.prepareItems(f[0],true)[0];d=(d!==-1)?d:this.items.length;if(this.fireEvent("beforeadd",this,h,d)!==false&&this.onBeforeAdd(h)!==false){this.items.insert(d,h);h.onAdded(this,d);this.onAdd(h,d);this.fireEvent("add",this,h,d)}return h},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(b,a){return this.add(b,a)},onBeforeAdd:function(a){if(a.ownerCt){a.ownerCt.remove(a,false)}if(this.hideBorders===true){a.border=(a.border===true)}},remove:function(a,b){var d=this.getComponent(a);if(!d){console.warn("Attempted to remove a component that does not exist. Ext.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")}if(d&&this.fireEvent("beforeremove",this,d)!==false){this.doRemove(d,b);this.fireEvent("remove",this,d)}return d},doRemove:function(c,b){var d=this.layout,a=d&&this.rendered;this.items.remove(c);c.onRemoved();if(a){d.onRemove(c)}this.onRemove(c,b);if(b===true||(b!==false&&this.autoDestroy)){c.destroy()}if(a&&!b){d.afterRemove(c)}},removeAll:function(b){var f,d=this.items.items.slice(),a=[],e=d.length,c;for(c=0;c<e;c++){f=d[c];this.remove(f,b);if(f.ownerCt!==this){a.push(f)}}return a},getRefItems:function(a){var b=this.items.items.slice(),e=b.length,c,d;if(a){for(c=0;c<e;c++){d=b[c];if(d.getRefItems){b=b.concat(d.getRefItems(true))}}}return b},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.items.get(a)},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},show:function(){Ext.lib.Container.superclass.show.apply(this,arguments);var e=this.layoutOnShow,d=e.getCount(),b=0,a,c;for(;b<d;b++){c=e.get(b);a=c.needsLayout;if(Ext.isObject(a)){c.doComponentLayout(a.width,a.height,a.isSetSize)}}e.clear()},beforeDestroy:function(){var a=this.items,b;if(a){while((b=a.first())){this.doRemove(b,true)}}Ext.destroy(this.layout);Ext.lib.Container.superclass.beforeDestroy.call(this)}});Ext.Container=Ext.extend(Ext.lib.Container,{});Ext.reg("container",Ext.Container);Ext.Container=Ext.extend(Ext.lib.Container,{cardSwitchAnimation:null,initComponent:function(){if(this.scroll){this.fields=new Ext.util.MixedCollection();if(!Ext.is.Blackberry){this.fields.on({add:this.onFieldAdd,remove:this.onFieldRemove,scope:this})}this.on({add:this.onItemAdd,remove:this.onItemRemove,scope:this})}Ext.Container.superclass.initComponent.apply(this,arguments)},afterRender:function(){Ext.Container.superclass.afterRender.apply(this,arguments);if(this.scroller){if((Ext.is.Android)&&this.containsFormFields){this.scroller.setUseCssTransform(false)}this.scroller.on("scrollstart",this.onFieldScrollStart,this)}},onFieldScrollStart:function(){var a=this.focusedField;if(a&&Ext.is.iOS){a.blur()}},onItemAdd:function(b,a){this.fields.addAll(Ext.ComponentQuery.query("[isField]",a))},onItemRemove:function(b,a){this.fields.removeAll(Ext.ComponentQuery.query("[isField]",a))},onFieldAdd:function(a,b){this.handleFieldEventListener(true,b)},onFieldRemove:function(a,b){this.handleFieldEventListener(false,b)},handleFieldEventListener:function(b,a){if(!this.fieldEventWrap){this.fieldEventWrap={}}if(["textfield","passwordfield","emailfield","textareafield","searchfield","urlfield","numberfield","spinnerfield"].indexOf(a.xtype)!==-1){if(b){this.fieldEventWrap[a.id]={beforefocus:function(c){this.onFieldBeforeFocus(a,c)},focus:function(c){this.onFieldFocus(a,c)},blur:function(c){this.onFieldBlur(a,c)},keyup:function(c){this.onFieldKeyUp(a,c)},scope:this};this.containsFormFields=true}a[b?"on":"un"](this.fieldEventWrap[a.id]);if(!b){delete this.fieldEventWrap[a.id]}}},onFieldKeyUp:function(b,a){if(Ext.is.iOS||Ext.is.Desktop){this.resetLastWindowScroll()}},onFieldBeforeFocus:function(b,a){this.focusingField=b},getLastWindowScroll:function(){if(!this.lastWindowScroll){this.resetLastWindowScroll()}return{x:this.lastWindowScroll.x,y:this.lastWindowScroll.y}},resetLastWindowScroll:function(){this.lastWindowScroll={x:window.pageXOffset,y:window.pageYOffset}},adjustScroller:function(b){var a=this.getClosestScroller(),c=this.getLastWindowScroll();a.setOffset(b);if(Ext.is.iOS){window.scrollTo(c.x,c.y)}this.resetLastWindowScroll()},onFieldFocus:function(h,g){if(!Ext.is.iOS&&!Ext.is.Desktop){var b=h.fieldEl.dom;if(b.scrollIntoViewIfNeeded){b.scrollIntoViewIfNeeded(true)}}else{var f=this.getClosestScroller(),i=Ext.util.Region.from(f.containerBox),l=h.fieldEl.getPageBox(true);if(this.focusingField==h||!Ext.is.iOS){if(Ext.is.iOS&&window.pageYOffset==0){window.scrollTo(0,0)}var j=new Ext.util.Offset();if(l.left<i.left){j.x=i.left-l.left}if(l.top<i.top){j.y=i.top-l.top}if(!j.isZero()){var k=this.getLastWindowScroll();f.scrollBy(j);if(Ext.is.iOS){window.scrollTo(k.x,k.y)}this.resetLastWindowScroll()}}else{if(this.lastFocusedField){var a=l.top-this.lastFocusedField.fieldEl.getY(),c=f.offset.y-a,d=false;if(!i.contains(l)&&(c!=0||(c==0&&f.offset.y!=0))){d=true}if(c>0){c=0}if(d){this.adjustScroller(new Ext.util.Offset(f.offset.x,c))}}}this.resetLastWindowScroll()}this.lastFocusedField=h;this.focusedField=h;this.focusingField=null},getClosestScroller:function(){if(!this.closestScroller){this.closestScroller=this.scroller||this.el.getScrollParent()}return this.closestScroller},onFieldBlur:function(b,a){if(this.focusingField==b){this.focusingField=null}if(this.focusedField==b){this.focusedField=null}},afterLayout:function(a){if(this.floating&&this.centered){this.setCentered(true,true)}if(this.scroller){this.scroller.updateBoundary()}Ext.Container.superclass.afterLayout.call(this,a)},getActiveItem:function(){if(this.layout&&this.layout.type=="card"){return this.layout.activeItem}else{return null}},setActiveItem:function(a,b){this.layout.setActiveItem(a,b);return this},onBeforeCardSwitch:function(a,c,b,d){return this.fireEvent("beforecardswitch",this,a,c,b,d)},onCardSwitch:function(a,c,b,d){return this.fireEvent("cardswitch",this,a,c,b,d)},disable:function(){Ext.Container.superclass.disable.call(this);this.el.mask(null,"x-mask-gray")},enable:function(){Ext.Container.superclass.enable.call(this);this.el.unmask()}});Ext.reg("container",Ext.Container);Ext.lib.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",isPanel:true,componentLayout:"dock",renderTpl:['<div class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>></div>'],initComponent:function(){this.addEvents("bodyresize");Ext.applyIf(this.renderSelectors,{body:"."+this.baseCls+"-body"});Ext.lib.Panel.superclass.initComponent.call(this)},initItems:function(){Ext.lib.Panel.superclass.initItems.call(this);var a=this.dockedItems;this.dockedItems=new Ext.util.MixedCollection(false,this.getComponentId);if(a){this.addDocked(a)}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getComponent:function(a){var b=Ext.lib.Panel.superclass.getComponent.call(this,a);if(b==undefined){b=this.getDockedComponent(a)}return b},initBodyStyles:function(){var a=Ext.isString(this.bodyStyle)?this.bodyStyle.split(";"):[],b=Ext.Element;if(this.bodyPadding!=undefined){a.push("padding: "+b.unitizeBox((this.bodyPadding===true)?5:this.bodyPadding))}if(this.bodyMargin!=undefined){a.push("margin: "+b.unitizeBox((this.bodyMargin===true)?5:this.bodyMargin))}if(this.bodyBorder!=undefined){a.push("border-width: "+b.unitizeBox((this.bodyBorder===true)?1:this.bodyBorder))}delete this.bodyStyle;return a.length?a.join(";"):undefined},initRenderData:function(){return Ext.applyIf(Ext.lib.Panel.superclass.initRenderData.call(this),{bodyStyle:this.initBodyStyles(),bodyCls:this.bodyCls})},addDocked:function(a,e){a=this.prepareItems(a);var d,b,c;for(b=0,c=a.length;b<c;b++){d=a[b];d.dock=d.dock||"top";if(e!==undefined){this.dockedItems.insert(e+b,d)}else{this.dockedItems.add(d)}d.onAdded(this,b);this.onDockedAdd(d)}if(this.rendered){this.doComponentLayout()}},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,insertDocked:function(b,a){this.addDocked(a,b)},removeDocked:function(d,b){if(!this.dockedItems.contains(d)){return d}var c=this.componentLayout,a=c&&this.rendered;if(a){c.onRemove(d)}this.dockedItems.remove(d);d.onRemoved();this.onDockedRemove(d);if(b===true||(b!==false&&this.autoDestroy)){d.destroy()}if(a&&!b){c.afterRemove(d)}this.doComponentLayout();return d},getDockedItems:function(){if(this.dockedItems&&this.dockedItems.items.length){return this.dockedItems.items.slice()}return[]},getTargetEl:function(){return this.body},getRefItems:function(a){var f=Ext.lib.Panel.superclass.getRefItems.call(this,a),c=this.getDockedItems(),e=c.length,b=0,d;f=f.concat(c);if(a){for(;b<e;b++){d=c[b];if(d.getRefItems){f=f.concat(d.getRefItems(true))}}}return f},beforeDestroy:function(){var b=this.dockedItems,a;if(b){while((a=b.first())){this.removeDocked(a,true)}}Ext.lib.Panel.superclass.beforeDestroy.call(this)}});Ext.Panel=Ext.extend(Ext.lib.Panel,{});Ext.reg("panel",Ext.Panel);Ext.Panel=Ext.extend(Ext.lib.Panel,{scroll:false});Ext.reg("panel",Ext.Panel);Ext.Carousel=Ext.extend(Ext.Panel,{baseCls:"x-carousel",indicator:true,ui:"dark",direction:"horizontal",horizontal:false,vertical:false,initComponent:function(){this.layout={type:"card",sizeAllCards:true,hideInactive:false,itemCls:"x-carousel-item",targetCls:"x-carousel-body",setOwner:function(b){Ext.layout.CardLayout.superclass.setOwner.call(this,b)}};if(this.indicator){var a=Ext.isObject(this.indicator)?this.indicator:{};this.indicator=new Ext.Carousel.Indicator(Ext.apply({},a,{direction:this.direction,carousel:this,ui:this.ui}))}if(this.direction=="horizontal"){this.horizontal=true}else{this.vertical=true}Ext.Carousel.superclass.initComponent.call(this)},afterRender:function(){Ext.Carousel.superclass.afterRender.call(this);this.mon(this.body,{drag:this.onDrag,dragThreshold:5,dragend:this.onDragEnd,direction:this.direction,scope:this});this.el.addCls(this.baseCls+"-"+this.direction)},onAdd:function(){Ext.Carousel.superclass.onAdd.apply(this,arguments);var a=this.indicator;if(a){a.onCardAdd()}},onRemove:function(){Ext.Carousel.superclass.onRemove.apply(this,arguments);var a=this.indicator;if(a){a.onCardRemove()}},afterLayout:function(){Ext.Carousel.superclass.afterLayout.apply(this,arguments);this.currentSize=this.body.getSize();this.currentScroll={x:0,y:0};this.updateCardPositions();var a=this.layout.getActiveItem();if(a&&this.indicator){this.indicator.onBeforeCardSwitch(this,a,null,this.items.indexOf(a))}},onDrag:function(b){this.currentScroll={x:b.deltaX,y:b.deltaY};var a=this.items.items.indexOf(this.layout.activeItem);if(this.horizontal){if((a==0&&b.deltaX>0)||(a==this.items.length-1&&b.deltaX<0)){this.currentScroll.x=b.deltaX/2}}else{if(this.vertical){if((a==0&&b.deltaY>0)||(a==this.items.length-1&&b.deltaY<0)){this.currentScroll.y=b.deltaY/2}}}this.updateCardPositions()},updateCardPositions:function(a){var g=this.items.items,f=g.length,h,c,b,e,d;for(c=0;c<f;c++){b=g[c];if(this.isCardInRange(b)){if(b.hidden){b.show()}e=b.el;d=e.dom.style;if(a){if(b===this.layout.activeItem){e.on("webkitTransitionEnd",this.onTransitionEnd,this,{single:true})}d.webkitTransitionDuration="300ms"}else{d.webkitTransitionDuration="0ms"}h=this.getCardOffset(b);if(this.horizontal){Ext.Element.cssTransform(e,{translate:[h,0]})}else{Ext.Element.cssTransform(e,{translate:[0,h]})}}else{if(!b.hidden){b.hide()}}}},getCardOffset:function(c){var d=this.getCardIndexOffset(c),b=this.currentSize,a=this.currentScroll;return this.horizontal?(d*b.width)+a.x:(d*b.height)+a.y},getCardIndexOffset:function(a){return this.items.items.indexOf(a)-this.getActiveIndex()},isCardInRange:function(a){return Math.abs(this.getCardIndexOffset(a))<=2},getActiveIndex:function(){return this.items.indexOf(this.layout.activeItem)},onDragEnd:function(d,b){var a,c;if(this.horizontal){c=d.deltaX;a=d.previousDeltaX}else{c=d.deltaY;a=d.previousDeltaY}if(c<0&&Math.abs(c)>3&&a<=0&&this.layout.getNext()){this.next()}else{if(c>0&&Math.abs(c)>3&&a>=0&&this.layout.getPrev()){this.prev()}else{this.scrollToCard(this.layout.activeItem)}}},onBeforeCardSwitch:function(a){if(!this.customDrag&&this.items.indexOf(a)!=-1){var b=a.el.dom.style;b.webkitTransitionDuration=null;b.webkitTransform=null}return Ext.Carousel.superclass.onBeforeCardSwitch.apply(this,arguments)},scrollToCard:function(a){this.currentScroll={x:0,y:0};this.oldCard=this.layout.activeItem;if(a!=this.oldCard&&this.isCardInRange(a)&&this.onBeforeCardSwitch(a,this.oldCard,this.items.indexOf(a),true)!==false){this.layout.activeItem=a;if(this.horizontal){this.currentScroll.x=-this.getCardOffset(a)}else{this.currentScroll.y=-this.getCardOffset(a)}}this.updateCardPositions(true)},onTransitionEnd:function(b,a){this.customDrag=false;this.currentScroll={x:0,y:0};if(this.oldCard&&this.layout.activeItem!=this.oldCard){this.onCardSwitch(this.layout.activeItem,this.oldCard,this.items.indexOf(this.layout.activeItem),true)}delete this.oldCard},onCardSwitch:function(a,c,b,d){this.currentScroll={x:0,y:0};this.updateCardPositions();Ext.Carousel.superclass.onCardSwitch.apply(this,arguments);a.fireEvent("activate",a)},next:function(){var a=this.layout.getNext();if(a){this.customDrag=true;this.scrollToCard(a)}return this},prev:function(){var a=this.layout.getPrev();if(a){this.customDrag=true;this.scrollToCard(a)}return this},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal},beforeDestroy:function(){Ext.destroy(this.indicator);Ext.Carousel.superclass.beforeDestroy.call(this)}});Ext.reg("carousel",Ext.Carousel);Ext.Carousel.Indicator=Ext.extend(Ext.Component,{baseCls:"x-carousel-indicator",initComponent:function(){if(this.carousel.rendered){this.render(this.carousel.body);this.onBeforeCardSwitch(null,null,this.carousel.items.indexOf(this.carousel.layout.getActiveItem()))}else{this.carousel.on("render",function(){this.render(this.carousel.body)},this,{single:true})}Ext.Carousel.Indicator.superclass.initComponent.call(this)},onRender:function(){Ext.Carousel.Indicator.superclass.onRender.apply(this,arguments);for(var a=0,b=this.carousel.items.length;a<b;a++){this.createIndicator()}this.mon(this.carousel,{beforecardswitch:this.onBeforeCardSwitch,scope:this});this.mon(this.el,{tap:this.onTap,scope:this});this.el.addCls(this.baseCls+"-"+this.direction)},onTap:function(g,a){var b=this.el.getPageBox(),f=b.left+(b.width/2),c=b.top+(b.height/2),d=this.carousel;if((d.isHorizontal()&&g.pageX>f)||(d.isVertical()&&g.pageY>c)){this.carousel.next()}else{this.carousel.prev()}},createIndicator:function(){this.indicators=this.indicators||[];this.indicators.push(this.el.createChild({tag:"span"}))},onBeforeCardSwitch:function(d,c,a,b){if(Ext.isNumber(b)&&b!=-1&&this.indicators[b]){this.indicators[b].radioCls("x-carousel-indicator-active")}},onCardAdd:function(){if(this.rendered){this.createIndicator()}},onCardRemove:function(){if(this.rendered){this.indicators.pop().remove()}}});Ext.reg("carouselindicator",Ext.Carousel.Indicator);Ext.layout.LayoutManager=new Ext.AbstractManager({create:function(a,b){if(!a){a=b}if(Ext.isString(a)){return new this.types[a||b]}else{if(Ext.isObject(a)){if(a.isLayout){return a}else{return new this.types[a.type||b](a)}}}}});Ext.regLayout=function(){return Ext.layout.LayoutManager.registerType.apply(Ext.layout.LayoutManager,arguments)};Ext.layout.Layout=Ext.extend(Object,{isLayout:true,initialized:false,constructor:function(a){this.id=Ext.id(null,"ext-layout-"+this.type+"-");Ext.apply(this,a)},layout:function(){var a=this;a.layoutBusy=true;a.initLayout();if(a.beforeLayout.apply(a,arguments)!==false){a.onLayout.apply(a,arguments);a.afterLayout();a.owner.needsLayout=false;a.layoutBusy=false}},beforeLayout:function(){this.renderItems(this.getLayoutItems(),this.getTarget());return true},renderItems:function(a,e){var d=a.length,b=0,c;for(;b<d;b++){c=a[b];if(c&&!c.rendered){this.renderItem(c,b,e)}else{if(!this.isValidParent(c,e)){this.moveItem(c,b,e)}}}},renderItem:function(b,a,c){if(!b.rendered){b.render(c,a);this.configureItem(b,a);this.childrenChanged=true}},moveItem:function(b,a,c){if(typeof a=="number"){a=c.dom.childNodes[a]}c=c.dom||c;c.insertBefore(b.el.dom,a||null);b.container=c;this.configureItem(b,a);this.childrenChanged=true},initLayout:function(){if(!this.initialized&&!Ext.isEmpty(this.targetCls)){this.getTarget().addCls(this.targetCls)}this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return b&&(c.parentNode==(b.dom||b))},configureItem:function(b,a){if(this.itemCls){b.el.addCls(this.itemCls)}},onLayout:Ext.emptyFn,afterLayout:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){if(this.itemCls&&a.rendered){a.el.removeCls(this.itemCls)}},destroy:function(){if(!Ext.isEmpty(this.targetCls)){var a=this.getTarget();if(a){a.removeCls(this.targetCls)}}this.onDestroy()}});Ext.layout.ComponentLayout=Ext.extend(Ext.layout.Layout,{type:"component",monitorChildren:true,beforeLayout:function(d,c){Ext.layout.ComponentLayout.superclass.beforeLayout.call(this);var b=this.owner,a=b.isVisible(),e;if(!a&&b.hiddenOwnerCt){e=b.hiddenOwnerCt.layoutOnShow;e.remove(b);e.add(b);b.needsLayout={width:d,height:c,isSetSize:false}}return a&&this.needsLayout(d,c)},needsLayout:function(c,a){this.lastComponentSize=this.lastComponentSize||{width:-Infinity,height:-Infinity};var b=this.childrenChanged;this.childrenChanged=false;return(b||this.lastComponentSize.width!==c||this.lastComponentSize.height!==a)},setElementSize:function(c,b,a){if(b!==undefined&&a!==undefined){c.setSize(b,a)}else{if(a!==undefined){c.setHeight(a)}else{if(b!==undefined){c.setWidth(b)}}}},getTarget:function(){return this.owner.el},setTargetSize:function(b,a){this.setElementSize(this.owner.el,b,a);this.lastComponentSize={width:b,height:a}},afterLayout:function(){var b=this.owner,e=b.layout,d=b.ownerCt,h,g,f,c,a;b.afterComponentLayout(this);if(e&&e.isLayout){e.layout()}if(d&&d.componentLayout&&d.componentLayout.monitorChildren&&!d.componentLayout.layoutBusy){d.componentLayout.childrenChanged=true;if(d.layout&&!d.layout.layoutBusy){if(d.layout.type=="autocontainer"){d.doComponentLayout(c,a)}else{d.layout.layout()}}}}});Ext.layout.AutoComponentLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"autocomponent",onLayout:function(b,a){this.setTargetSize(b,a)}});Ext.regLayout("autocomponent",Ext.layout.AutoComponentLayout);Ext.layout.DockLayout=Ext.extend(Ext.layout.ComponentLayout,{type:"dock",itemCls:"x-docked",onLayout:function(a,p){var m=this,b=m.owner,j=b.body,d=b.ownerCt,i=b.layout,f=b.collapsed,e=b.contracted,k=b.expanded,h=m.headerItem,l=m.getTarget(),n=false,o=false,g;var c=m.info={boxes:[],size:{width:a,height:p},padding:{top:l.getPadding("t"),right:l.getPadding("r"),bottom:l.getPadding("b"),left:l.getPadding("l")},border:{top:l.getBorderWidth("t"),right:l.getBorderWidth("r"),bottom:l.getBorderWidth("b"),left:l.getBorderWidth("l")},bodyMargin:{top:j.getMargin("t"),right:j.getMargin("r"),bottom:j.getMargin("b"),left:j.getMargin("l")},bodyBox:{}};if(p===undefined||p===null||a===undefined||a===null||e){if((p===undefined||p===null)&&(a===undefined||a===null)){o=true;n=true;if(!b.animCollapse||(!k&&!e)){m.setTargetSize(null,null)}m.setBodyBox({width:null,height:null})}else{if(p===undefined||p===null){o=true;if(!b.animCollapse||(!k&&!e)){m.setTargetSize(a,null)}m.setBodyBox({width:a,height:null})}else{n=true;if(!b.animCollapse||(!k&&!e)){m.setTargetSize(null,p)}m.setBodyBox({width:null,height:p})}}if(!f&&i&&i.isLayout){i.layout()}m.dockItems(n,o);if(f){if(h){if(h.dock=="top"||h.dock=="bottom"){c.size.height=h.getHeight()}else{c.size.width=h.getWidths()}}else{c.size.height=0}}if(k||e){if(b.animCollapse){Ext.createDelegate(b.animCollapseFn,b,[c.size.width,c.size.height])()}else{Ext.createDelegate(b["after"+(k?"Expand":"Collapse")],b)();m.setTargetSize(c.size.width,c.size.height)}}else{m.setTargetSize(c.size.width,c.size.height)}}else{if(k||e){if(b.animCollapse){Ext.createDelegate(b.animCollapseFn,b,[a,p])()}else{Ext.createDelegate(b["after"+(k?"Expand":"Collapse")],b)();m.setTargetSize(a,p)}}else{m.setTargetSize(a,p);m.dockItems()}}Ext.layout.DockLayout.superclass.onLayout.call(m,a,p)},afterLayout:function(){Ext.layout.DockLayout.superclass.afterLayout.call(this)},dockItems:function(h,a){this.calculateDockBoxes(h,a);var f=this.info,g=this.owner.collapsed,c=f.boxes,e=c.length,d,b;for(b=0;b<e;b++){d=c[b];if(g===true&&!d.isHeader){continue}d.item.setPosition(d.x,d.y)}if(h){f.bodyBox.width=null}if(a){f.bodyBox.height=null}this.setBodyBox(f.bodyBox)},calculateDockBoxes:function(m,p){var v=this,x=v.getTarget(),l=v.getLayoutItems(),a=v.owner,b=a.contracted,o=a.expanded,f=a.body,s=v.info,k=s.size,c=l.length,g=s.padding,n=s.border,t,q,d,e,r,u,j;if(p){k.height=f.getHeight()+g.top+n.top+g.bottom+n.bottom}else{k.height=x.getHeight()-x.getMargin("tb")}if(m){k.width=f.getWidth()+g.left+n.left+g.right+n.right}else{k.width=x.getWidth()-x.getMargin("lr")}s.bodyBox={x:n.left+g.left,y:n.top+g.top,width:k.width-g.left-n.left-g.right-n.right,height:k.height-n.top-g.top-n.bottom-g.bottom};for(q=0;q<c;q++){t=l[q];if(t.isHeader){v.headerItem=t}d=v.initBox(t);if(p===true){d=v.adjustAutoBox(d,q)}else{d=v.adjustSizedBox(d,q)}s.boxes.push(d)}},adjustSizedBox:function(c,b){var a=this.info.bodyBox;switch(c.type){case"top":c.y=a.y;break;case"left":c.x=a.x;break;case"bottom":c.y=(a.y+a.height)-c.height;break;case"right":c.x=(a.x+a.width)-c.width;break}if(!c.overlay){switch(c.type){case"top":a.y+=c.height;a.height-=c.height;break;case"left":a.x+=c.width;a.width-=c.width;break;case"bottom":a.height-=c.height;break;case"right":a.width-=c.width;break}}return c},adjustAutoBox:function(c,f){var a=this.info,g=a.bodyBox,j=a.size,d=a.boxes,h=c.type,b,e;if(h=="top"||h=="bottom"){for(b=0;b<f;b++){e=d[b];if(e.stretched&&e.type=="left"||e.type=="right"){e.height+=c.height}else{if(e.type=="bottom"){e.y+=c.height}}}}switch(h){case"top":c.y=g.y;if(!c.overlay){g.y+=c.height}j.height+=c.height;break;case"bottom":c.y=(g.y+g.height);j.height+=c.height;break;case"left":c.x=g.x;if(!c.overlay){g.x+=c.width;g.width-=c.width}break;case"right":if(!c.overlay){g.width-=c.width}c.x=(g.x+g.width);break}return c},initBox:function(d){var b=this.info.bodyBox,a=(d.dock=="top"||d.dock=="bottom"),c={item:d,overlay:d.overlay,type:d.dock};if(d.stretch!==false){c.stretched=true;if(a){c.x=b.x;c.width=b.width;d.doComponentLayout(c.width-d.el.getMargin("lr"))}else{c.y=b.y;c.height=b.height;d.doComponentLayout(undefined,c.height-d.el.getMargin("tb"))}}else{d.doComponentLayout();c.width=d.getWidth();c.height=d.getHeight();if(a){c.x=(d.align=="right")?b.width-c.width:b.x}}if(c.width==undefined){c.width=d.getWidth()+d.el.getMargin("lr")}if(c.height==undefined){c.height=d.getHeight()+d.el.getMargin("tb")}return c},getLayoutItems:function(){return this.owner.getDockedItems()},setBodyBox:function(f){var i=this,a=i.owner,g=a.body,e=a.contracted,h=a.expanded,b=i.info,d=b.bodyMargin,j=b.padding,c=b.border;if(Ext.isNumber(f.width)){f.width-=d.left+d.right}if(Ext.isNumber(f.height)){f.height-=d.top+d.bottom}i.setElementSize(g,f.width,f.height);g.setLeft(f.x-j.left-c.left);g.setTop(f.y-j.top-c.top)},configureItem:function(b,c){Ext.layout.DockLayout.superclass.configureItem.call(this,b,c);var a=b.el||Ext.get(b);if(this.itemCls){a.addCls(this.itemCls+"-"+b.dock)}},afterRemove:function(a){Ext.layout.DockLayout.superclass.afterRemove.call(this,a);if(this.itemCls){a.el.removeCls(this.itemCls+"-"+a.dock)}var b=a.el.dom;if(b){b.parentNode.removeChild(b)}this.childrenChanged=true}});Ext.regLayout("dock",Ext.layout.DockLayout);Ext.layout.ContainerLayout=Ext.extend(Ext.layout.Layout,{type:"container",getLayoutItems:function(){return this.owner&&this.owner.items&&this.owner.items.items||[]},afterLayout:function(){this.owner.afterLayout(this)},getTarget:function(){return this.owner.getTargetEl()}});Ext.layout.AutoContainerLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"autocontainer",onLayout:function(a,e){var b=this.getLayoutItems(),d=b.length,c;for(c=0;c<d;c++){b[c].doComponentLayout()}}});Ext.regLayout("auto",Ext.layout.AutoContainerLayout);Ext.regLayout("autocontainer",Ext.layout.AutoContainerLayout);Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{itemCls:"x-fit-item",targetCls:"x-layout-fit",type:"fit",onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.call(this);if(this.owner.items.length){var b=this.getTargetBox(),a=this.owner.items.get(0);this.setItemBox(a,b);a.cancelAutoSize=true}},getTargetBox:function(){var d=this.getTarget(),b=d.getSize(),c={left:d.getPadding("l"),right:d.getPadding("r"),top:d.getPadding("t"),bottom:d.getPadding("b")},a={left:d.getBorderWidth("l"),right:d.getBorderWidth("r"),top:d.getBorderWidth("t"),bottom:d.getBorderWidth("b")};return{width:b.width-c.left-c.right-a.left-a.right,height:b.height-c.top-c.bottom-a.top-a.bottom,x:c.left+a.left,y:c.top+a.top}},setItemBox:function(b,a){if(b&&a.height>0){a.width-=b.el.getMargin("lr");a.height-=b.el.getMargin("tb");b.setCalculatedSize(a);b.setPosition(a)}}});Ext.regLayout("fit",Ext.layout.FitLayout);Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{type:"card",sizeAllCards:false,hideInactive:true,beforeLayout:function(){this.activeItem=this.getActiveItem();return Ext.layout.CardLayout.superclass.beforeLayout.apply(this,arguments)},onLayout:function(){Ext.layout.FitLayout.superclass.onLayout.apply(this,arguments);var f=this.activeItem,b=this.getLayoutItems(),e=b.length,a=this.getTargetBox(),c,d;for(c=0;c<e;c++){d=b[c];this.setItemBox(d,a)}if(!this.firstActivated&&f){if(f.fireEvent("beforeactivate",f)!==false){f.fireEvent("activate",f)}this.firstActivated=true}},getActiveItem:function(){if(!this.activeItem&&this.owner){this.activeItem=this.parseActiveItem(this.owner.activeItem)}if(this.activeItem&&this.owner.items.items.indexOf(this.activeItem)!=-1){return this.activeItem}return null},parseActiveItem:function(a){if(a&&a.isComponent){return a}else{if(typeof a=="number"||a==undefined){return this.getLayoutItems()[a||0]}else{return this.owner.getComponent(a)}}},configureItem:function(b,a){Ext.layout.FitLayout.superclass.configureItem.call(this,b,a);if(this.hideInactive&&this.activeItem!==b){b.hide()}else{b.show()}},onRemove:function(a){if(a===this.activeItem){this.activeItem=null;if(this.owner.items.getCount()==0){this.firstActivated=false}}},getAnimation:function(b,a){var c=(b||{}).cardSwitchAnimation;if(c===false){return false}return c||a.cardSwitchAnimation},setActiveItem:function(b,f){var e=this,a=e.owner,g=Ext.getDoc(),d=e.activeItem,c;f=(f==undefined)?this.getAnimation(b,a):f;b=e.parseActiveItem(b);c=a.items.indexOf(b);if(c==-1){a.add(b)}if(b&&d!=b&&a.onBeforeCardSwitch(b,d,c,!!f)!==false){if(!b.rendered){this.layout()}if(b.fireEvent("beforeactivate",b,d)===false){return false}if(d&&d.fireEvent("beforedeactivate",d,b)===false){return false}if(b.hidden){b.show()}e.activeItem=b;if(f){g.on("click",Ext.emptyFn,e,{single:true,preventDefault:true});Ext.Anim.run(b,f,{out:false,autoClear:true,scope:e,after:function(){Ext.defer(function(){g.un("click",Ext.emptyFn,e)},50,e);b.fireEvent("activate",b,d);if(!d){a.onCardSwitch(b,d,c,true)}}});if(d){Ext.Anim.run(d,f,{out:true,autoClear:true,after:function(){d.fireEvent("deactivate",d,b);if(e.hideInactive&&e.activeItem!=d){d.hide()}a.onCardSwitch(b,d,c,true)}})}}else{b.fireEvent("activate",b,d);if(d){d.fireEvent("deactivate",d,b);if(e.hideInactive){d.hide()}}a.onCardSwitch(b,d,c,false)}return b}return false},getNext:function(c){var a=this.getLayoutItems(),b=a.indexOf(this.activeItem);return a[b+1]||(c?a[0]:false)},next:function(b,a){return this.setActiveItem(this.getNext(a),b)},getPrev:function(c){var a=this.getLayoutItems(),b=a.indexOf(this.activeItem);return a[b-1]||(c?a[a.length-1]:false)},prev:function(b,a){return this.setActiveItem(this.getPrev(a),b)}});Ext.regLayout("card",Ext.layout.CardLayout);Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"box",targetCls:"x-layout-box",innerCls:"x-layout-box-inner",pack:"start",align:"center",notifyOwnerCtContainer:true,fixedLayout:false,direction:"normal",onLayout:function(){Ext.layout.BoxLayout.superclass.onLayout.call(this);if(this.pack==="left"||this.pack==="top"){this.pack="start"}else{if(this.pack==="right"||this.pack==="bottom"){this.pack="end"}}var d=this.getTarget(),c=d.parent(),b=(c.getWidth()-c.getPadding("lr")-c.getBorderWidth("lr"))+"px",a=(c.getHeight()-c.getPadding("tb")-c.getBorderWidth("tb"))+"px";d.setStyle({"-webkit-box-orient":this.orientation,"-webkit-box-direction":this.direction,"-webkit-box-pack":this.pack,"-webkit-box-align":this.align});if(this.orientation=="horizontal"){d.setStyle({"min-width":b,height:a})}else{d.setStyle({"min-height":a,width:b})}this.prepareFlexedItems();this.setFlexedItems()},prepareFlexedItems:function(){var a=this.getLayoutItems(),d=a.length,c,b;for(b=0;b<d;b++){c=a[b];if(c.flex!=undefined){c.el.setStyle("position","absolute");c.boxEl=this.createBoxEl(c)}else{c.doComponentLayout()}}},setFlexedItems:function(){var a=this.getLayoutItems(),d=a.length,c,b;for(b=0;b<d;b++){c=a[b];if(c.flex!=undefined){c.boxSize=c.boxEl.getSize()}}for(b=0;b<d;b++){c=a[b];if(c.flex!=undefined){c.el.setStyle("position","");if(this.align=="stretch"){c.setSize(c.boxSize)}else{if(this.orientation=="horizontal"){c.setWidth(c.boxSize.width)}else{c.setHeight(c.boxSize.height)}}c.boxEl.remove();delete c.boxEl;delete c.boxSize}}},getTarget:function(){var a=this.owner,b=this.innerCt;if(!b){if(a.scrollEl){b=a.scrollEl.addCls(this.innerCls)}else{b=a.getTargetEl().createChild({cls:this.innerCls})}this.innerCt=b}return b},createBoxEl:function(b){var a=b.el;return a.insertSibling({style:"margin-top: "+a.getMargin("tb")+"px; margin-left: "+a.getMargin("lr")+"px; -webkit-box-flex: "+b.flex})}});Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"horizontal"});Ext.regLayout("hbox",Ext.layout.HBoxLayout);Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{orientation:"vertical"});Ext.regLayout("vbox",Ext.layout.VBoxLayout);Ext.plugins.ListPagingPlugin=Ext.extend(Ext.util.Observable,{autoPaging:false,loadMoreText:"Load More...",init:function(a){this.list=a;a.onBeforeLoad=Ext.util.Functions.createInterceptor(a.onBeforeLoad,this.onBeforeLoad,this);this.mon(a,"update",this.onListUpdate,this)},onListUpdate:function(){if(!this.rendered){this.render()}this.el.appendTo(this.list.getTargetEl());if(!this.autoPaging){this.el.removeCls("x-loading")}this.loading=false},render:function(){var b=this.list,c=b.getTargetEl(),a="";if(!this.autoPaging){a+='<div class="x-list-paging-msg">'+this.loadMoreText+"</div>"}this.el=c.createChild({cls:"x-list-paging"+(this.autoPaging?" x-loading":""),html:a+Ext.LoadingSpinner});if(this.autoPaging){this.mon(c.getScrollParent(),"scrollend",this.onScrollEnd,this)}else{this.mon(this.el,"tap",this.onPagingTap,this)}this.rendered=true},onBeforeLoad:function(){if(this.loading&&this.list.store.getCount()>0){this.list.loadMask.disable();return false}},onPagingTap:function(a){if(!this.loading){this.loading=true;this.list.store.nextPage();this.el.addCls("x-loading")}},onScrollEnd:function(a,b){if(b.y>=Math.abs(a.offsetBoundary.top)){this.loading=true;this.list.store.nextPage()}}});Ext.preg("listpaging",Ext.plugins.ListPagingPlugin);
