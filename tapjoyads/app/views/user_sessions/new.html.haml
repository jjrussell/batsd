- @page_title = 'Login'

%h1 Login

- form_for @user_session do |f|
  = f.error_messages :header_message => nil
  = hidden_field_tag 'goto', @goto unless @goto.nil?
  
  %table
    %tr
      %td= f.label :username
      %td= f.text_field :username, :size => 40
    %tr
      %td= f.label :password
      %td= f.password_field :password, :size => 40
    %tr
      %td= f.label :remember_me
      %td{ :class => 'left' }= f.check_box :remember_me
    %tr
      %td= f.submit 'Login'
      %td{ :class => 'left' }= link_to('Reset Password', new_password_reset_path)

- content_for :page_javascript do
  :plain
    $(document).ready(function() {
      $('#user_session_username').focus();
    });
  
- content_for :page_styles do
  :plain
    table {
      border-collapse: collapse;
    }
    
    td {
      padding: 3px 5px;
      text-align: right;
    }
    
    td.left {
      text-align: left;
    }
    
    .errorExplanation {
      background-color: #af1515;
      padding: 10px;
      -moz-border-radius: 5px;
      -webkit-border-radius: 5px;
      margin-bottom: 10px;
    }
    
    .fieldWithErrors {
      border: 3px solid #af1515;
      display: inline-block;
    }
