- @page_title = 'Add funds'

%h2 Add funds

%p
  Enter your credit card information and the amount you would like to add to your balance.
  We accept Visa, MasterCard, Discover and American Express and cards.

%h3 Current Balance: #{number_to_currency(current_partner.balance / 100.0)}

- form_for(:credit_card, @credit_card, :url => { :action => :create_order }, :html => { :class => 'tjform' }) do |f|
  %table
    %tr
      %th= f.label :first_name, 'First Name'
      %td
        = f.text_field :first_name
        = error_message_on @credit_card, :first_name
    %tr
      %th= f.label :last_name, 'Last Name'
      %td
        = f.text_field :last_name
        = error_message_on @credit_card, :last_name
    %tr
      %th
      %td= image_tag('credit_card_logos.gif', :class => 'logos')
    %tr
      %th= f.label :number, 'Card Number'
      %td
        = f.text_field :number
        = error_message_on @credit_card, :number
    %tr
      %th= f.label :verification_value, 'CVV Code'
      %td
        = f.text_field :verification_value, :size => 6
        = error_message_on @credit_card, :verification_value
    %tr
      %th= f.label :expiration, 'Expiration'
      %td
        = f.select :month, (1..12).to_a
        = f.select :year, (Date.today.year..(Date.today.year + 8)).to_a
        = error_message_on @credit_card, :month
        = error_message_on @credit_card, :year
    %tr
      %th= f.label :amount, 'Amount'
      %td
        = f.currency_field :amount, {}, :size => 12
        = error_message_on @credit_card, :amount
    %tr
      %td{ :colspan => 2 }= f.submit 'Add Funds'

- content_for :page_styles do
  :plain
    img.logos {
      padding-left: 3px;
    }
