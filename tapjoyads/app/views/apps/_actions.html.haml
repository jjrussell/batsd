#apps_tools
  %ul
    - unless app.nil?
      - currency_path = app.primary_currency.nil? ? new_app_currency_path({:app_id => app.id}) : app_currency_path({:app_id => app.id, :id => app.primary_currency.id})
      - virtual_goods_path = app.virtual_goods.blank? ? new_app_virtual_good_path({:app_id => app.id}) : app_virtual_goods_path({:app_id => app.id})
      %li= link_to 'Details', app_path(app), :class => (request.path_parameters['controller'] == 'apps' && !request.path_parameters['action'][/integrate/] ? 'selected' : '')
      %li= link_to 'Pay-Per-Install', app_offer_path(:id => app.primary_offer.id, :app_id => app.id), :class => (controller.controller_name == 'offers' ? 'selected' : '')
      %li= link_to 'Featured Installs', @app.primary_featured_offer ? edit_app_featured_offer_path(@app, @app.primary_featured_offer) : new_app_featured_offer_path(@app), :class => (controller.controller_name == 'featured_offers') ? 'selected' : ''
      %li= link_to 'Virtual Currency', currency_path, :class => (controller.controller_name == 'currencies' ? 'selected' : '')
      %li= link_to 'Virtual Goods', virtual_goods_path, :class => (controller.controller_name == 'virtual_goods' ? 'selected' : '')
      %li= link_to 'Integrate', integrate_app_path(@app)
      -if request.path_parameters['controller'] == 'apps' && request.path_parameters['action'][/integrate/]
        %li.inception= link_to 'Advertiser', integrate_app_path(@app), :class => (request.path_parameters['controller'] == 'apps' && request.path_parameters['action']=='integrate' ? 'selected' : '')
        %li.inception= link_to 'Publisher', publisher_integrate_app_path(@app), :class => (request.path_parameters['controller'] == 'apps' && request.path_parameters['action']=='publisher_integrate' ? 'selected' : '')
    - else
      %li.disabled Details
      %li.disabled Pay-Per-Install
      %li.disabled Virtual Currency
      %li.disabled Virtual Goods
      %li.disabled Integrate

- content_for :page_styles do
  :plain
    #apps_tools {
      float: left;
      width: 150px;
    }
    #apps_tools ul {
      padding-left: 0;
    }
    #apps_tools li {
      list-style: none;
    }
    #apps_tools li.disabled,
    #apps_tools a {
      text-decoration: none;
      display: block;
      color: black;
      padding: 5px;
    }
    #apps_tools li.inception a {
      padding-left: 20px;
      font-size: 12px;
    }
    #apps_tools a:hover {
      background: #ccc;
      background: -webkit-gradient(linear, left top, right bottom, from(#ccc), to(#fff));
      background: -moz-linear-gradient(left,  #ccc,  #fff);
    }
    #apps_tools a.selected {
      background: #337BC8;
      background: -webkit-gradient(linear, left top, right bottom, from(#337BC8), to(#fff));
      background: -moz-linear-gradient(left,  #337BC8,  #fff);
    }
    #apps_tools li.disabled {
      color: #aaa;
    }
    #apps_main {
      margin-left: 160px;
    }

