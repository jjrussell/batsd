- @page_title = 'Apps'

= render :partial => 'apps', :object => current_partner_apps
= render :partial => 'actions', :locals => {:app => @app}

#apps_main
  - unless @app.nil?
    %h2= @app.name
    - form_for @app do |f|
      %table.shaded.app-data{:border => 1}
        %tbody
          %tr{:class => cycle('even', 'odd')}
            %td Platform
            %td
              = f.select :platform, %w(iPhone Android).zip(%w(iphone android))
          %tr{:class => cycle('even', 'odd')}
            %td Description:
            %td
              = f.text_area :description, :size => "50x15"
              - if @app.errors.on :description
                = error_message_on @app, :description
          %tr{:class => cycle('even', 'odd')}
            %td Store URL:
            %td
              = f.text_field :store_url, :size => 50
              - if @app.errors.on :store_url
                = error_message_on @app, :store_url
          %tr{:class => cycle('even', 'odd')}
            %td Icon (57x57):
            %td
              = image_tag(@app.primary_offer.get_icon_url, :size => '57x57', :alt => 'icon')
          %tr{:class => cycle('even', 'odd')}
            %td Price:
            %td
              $
              = f.text_field :price, :value => (number_to_currency @app.price/100, :unit => ''), :size => 10
              - if @app.errors.on :price
                = error_message_on @app, :price
          %tr{:class => cycle('even', 'odd')}
            %td Integrated?:
            - if @integrated
              %td.integrated YES
            - else
              %td.not_integrated NO
      = f.submit 'Update'
- content_for :page_styles do
  :plain
    td.integrated {
      color: #00f;
    }
    td.not_integrated {
      color: #f00;
    }
    #apps_tools {
      float: left;
      width: 200px;
    }
    #apps_main {
      margin-left: 210px;
    }
    table.app-data {
      cellpadding: 0;
      cellspacing: 0;
      border-spacing: 0px;
      border-color: #ddd;
    }
    table.app-data td {
      padding: 5px;
    }
    table.app-data td textarea {
      width: 100%;
      font-size: 16px;
      font-face: arial, helvetica;
    }
