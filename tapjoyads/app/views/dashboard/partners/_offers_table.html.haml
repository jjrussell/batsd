.offers_table
  %table.apps_table.tablesorter
    %thead
      %tr
        %th Icon
        %th Offer
        %th Type
        %th Price
        %th Payment
        %th TJ Enabled
        %th Platform
        %th TJ Sponsored
    %tbody
      - offers.each do |offer|
        %tr
          %td.icon= image_tag(offer.get_icon_url, :size => '57x57')
          %td
            %h2= link_to_offer(offer)
            %br
            %span.descriptors= offer.descriptors.join(', ')
          %td= offer.item_type
          %td= number_to_currency(offer.price / 100.0)
          %td= number_to_currency(offer.payment / 100.0)
          %td= offer.tapjoy_enabled
          %td= offer.get_platform
          %td= offer.tapjoy_sponsored ? "Yes" : "No"

- content_for :page_javascript do
  :plain
    $(function($) {
      $.tablesorter.addParser({
        id: 'currency-column',
        is: function(s) { return false; },
        type: 'numeric',
        format: function(s) {
          return s.replace(/\$/g, '').replace(/,/g, '');
        }
      });
      $(".apps_table").tablesorter({
        widgets: ['zebra'],
        headers: {
          0: { sorter: false },
          3: { sorter: 'currency-column' },
          4: { sorter: 'currency-column' }
        },
        sortList: [ [1, 0] ]
      });
    });

- content_for :page_styles do
  :plain
    table.tablesorter {
      border-collapse: separate;
    }
    th,
    td,
    .icon img {
      border: 0;
    }
    .box {
      width: 45%;
    }

