%h1= @partner.name

- form_for(@partner, nil, :html => { :class => 'tjform' }) do |f|
  .field
    = f.label(:account_manager_notes, 'Internal notes')
    #help_account_manager_notes.help ?
    = f.text_area :account_manager_notes
  .field
    = f.label(:account_managers, 'Account manager(s)')
    #help_account_managers.help ?
    - options = options_from_collection_for_select(User.account_managers, "id", "email", @partner.account_managers.map(&:id))
    = f.select :account_managers, options, {:include_blank => '(no one)'}
  .field
    = f.label :rev_share, 'Rev share'
    #help_rev_share.help ?
    = f.text_field :rev_share
    = error_message_on(@partner, :rev_share) if @partner.errors.on :rev_share
  .field
    = f.label :transfer_bonus, 'Transfer bonus'
    #help_transfer_bonus.help ?
    = f.text_field :transfer_bonus
    = error_message_on(@partner, :transfer_bonus) if @partner.errors.on :transfer_bonus
  .field
    = f.label :disabled_partners, 'Disabled partners'
    #help_disabled_partners.help ?
    = f.text_area :disabled_partners
    = error_message_on(@partner, :disabled_partners) if @partner.errors.on :disabled_partners
    .disabled_partner_names
      = @partner.get_disabled_partners.map { |p| link_to(p.name, partner_path(p)) }.join(', ')

  = submit_tag "Update"

.hidden
  #help_account_manager_notes_content{:name => 'Internal notes'}
    Internal notes, only viewable by tapjoyers.
  #help_account_managers_content{:name => 'Account manager(s)'}
    Who is managing this partner?
  #help_disabled_partners_content{:name => 'Disabled partners'}
    Offers belonging to partners that are in this list will not be shown in this partner's offerwalls.
  #help_rev_share_content{:name => 'Rev share'}
    The share of offer revenue that this publisher gets. A number between 0 an 1.
  #help_transfer_bonus_content{:name => 'Transfer bonus'}
    The bonus that this partner gets when transferring between pending earnings and balance. A value of 0.1 will give a 10% bonus.

- content_for :page_styles do
  :plain
    
    label {
      vertical-align: top;
      font-weight: bold;
      text-align: right;
      display: inline-block;
      width: 200px;
      margin-left: -200px;
    }
    
    textarea {
      width: 500px;
      height: 75px;
    }
    
    input[type=submit] {
      float: right;
    }
    
    .field {
      margin-bottom: 5px;
      margin-left: 200px;
    }
    
    .disabled_partner_names {
      width: 400px;
      margin-left: 20px;
    }