- @page_title = 'Employees'

%h1 Employees

= link_to '[Add new employee]', new_tools_employee_path
%br

%table#employees_table.tablesorter
  %thead
    %tr
      %th Image
      %th Active?
      %th First Name
      %th Last Name
      %th Email/Edit
      %th Title
      %th Department
      %th Comments
  %tbody
    - @employees.each do |employee|
      %tr{ :class => cycle('', 'odd') }
        %td= image_tag url_for(:action => "show_photo", :id => employee.id), :alt => employee.full_name
        %td= employee.active ? "Yes" : "No"
        %td= employee.first_name
        %td= employee.last_name
        %td= link_to employee.email, edit_tools_employee_path(employee)
        %td= employee.title
        %td= employee.department
        %td= employee.comments


- content_for :page_styles do
  :plain
    table.tablesorter {
      border-collapse: separate;
    }
    table.tablesorter th.up_arrow {
      background-position: 100% 50%;
      background-repeat: no-repeat;
      background-image: url(/stylesheets/themes/blue/asc.gif);
      background-color: #8DBDD8;
    }

- content_for :page_javascript do
  :plain
    $(function() {
      $("#employees_table").tablesorter({
        widgets: ['zebra'],
        headers: {
          0: { sorter: false },
          7: { sorter: false }
        }
      });
    });
