- content_for :included_javascripts, javascript_include_tag('jquery.form.min', 'tapjoy/approvals')

%h1
  Approval Queue
  - if @conditions[:item_type]
    for #{@conditions[:item_type].pluralize}

- form_url = @hide_type ? tools_typed_approvals_path(:type => @conditions[:item_type].downcase) : tools_approvals_path
- form_for(:approval, :url => form_url, :html => {:method => :get}) do |f|
  - unless @conditions[:state].is_a?(Array) # History page shouldn't allow selecting different states
    = label_tag('state', 'State')
    = select_tag('state', options_for_select(Approval.options_for_state, @conditions[:state]))
  - unless @hide_owner
    = label_tag('owner_id', 'Owner')
    = select_tag('owner_id', options_for_select(Approval.options_for_assigned_owners(true), @conditions[:owner_id]))
  - unless @hide_type
    = label_tag('item_type', 'Type')
    = select_tag('item_type', options_for_select(Approval.options_for_type(true), @conditions[:item_type]))
  %button{:type => 'Submit'} Filter

= render :partial => @table_partial
